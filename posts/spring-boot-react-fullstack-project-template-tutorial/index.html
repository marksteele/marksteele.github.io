<!DOCTYPE html>
<html lang="en-us">
	<head>
		<title>
	Spring Boot/React - FullStack Project Template/Tutorial
</title>
		<style>
	body, body.pushable {
		background-repeat: no-repeat;
	  	background-attachment: fixed;
	  	background-size: cover !important;
	}
</style>

		<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">


	
	
	
	<meta name="author" content="Mark Steele" />
	<meta name="description" content="Here&#39;s a Spring Boot project template/tutorial that I&#39;ve put together to try to get some best practices codified on how to quickly throw together a service.
Full code here for the impatient: https://github.com/marksteele/SpringBootReactFullStackSample
Here&#39;s what it&#39;ll look like when we&#39;re done (note my amazing front-end skills)
We&#39;ll cover: REST endpoints, scheduled tasks, thread-pools to parallelize work, React, MySQL, 12-factor app best practices, OAuth2 (google), monitoring, unit testing, code coverage, project mess detection, spotbugs, DevOps and more!" />



<meta name="generator" content="Hugo 0.55.6" />


<link rel="shortcut icon" href="/img/defaultFav.ico">




		
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
<script
	src="https://code.jquery.com/jquery-3.3.1.min.js"
	integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>


 <link href="https://fonts.googleapis.com/css?family=Abril+Fatface|Inconsolata" rel="stylesheet">



<link rel="stylesheet" type="text/css" href="/css/site.css">








<style>
	body.pushable {
		display: block;
		
			background-image: var(--bgImage) !important;
		 ;
	}
</style>



<script>
	
	var isMobile = ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) )
	console.log("The client device is a "+(isMobile?"mobile":"PC")+".")
</script>

	</head>

	<body>
		<script>
var prevBgIndex = 0;
var bodyBgSwitchIndex = 0;






	
		var bgImage = "url(" + "/images/IMG_1191.jpg" + ")";	
	
		console.log("Current background: " + bgImage.substring(bgImage.indexOf("bg"), bgImage.length));
		document.body.style.setProperty('--blurEff',  null );
		document.body.style.backgroundImage = bgImage;	


function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  var random;
  while (1) {
    random = Math.floor(Math.random() * (max - min)) + min;
    if (random !== prevBgIndex) {
      prevBgIndex = random;
      break;
    }
  }
  return random;
}
</script>




		<div id="sidebar" class="ui sidebar inverted vertical menu">
	
	<section id="author" class="ui top attached center aligned inverted segment">
		
<div class="ui small circular image">
	
		<img src="/images/mark.jpg">
	
</div>


<h3 class="ui header">
	Mark Steele
	<div class="sub header">Cogito Interruptus Vulgaris</div>
</h3>

	</section>

	
	

	
	
		<section class="ui attached inverted segment sidebar-dream-categories both flexbox">
			<div class="ui inverted accordion">
				
	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/3d-printing">3d-printing</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/3d-printing-safety-fire-detection-relay/">
				<div>
					<i class="cocktail icon"></i>
					<p>3d Printing Safety - Fire detection relay</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/analytics">analytics</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2014/01/04/building-a-datawarehouse-for-testing/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a datawarehouse for testing</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/19/complex-event-processing-to-detect-click-fraud/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing to detect click fraud</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/15/complex-event-processing-for-fun-and-profit-part-deux/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit part deux</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/10/complex-event-processing-for-fun-and-profit/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/10/25/sample-esp-queries/">
				<div>
					<i class="cocktail icon"></i>
					<p>sample esp queries</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/api-gateway">api-gateway</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/invalidate-cloudfront-with-lambda/">
				<div>
					<i class="cocktail icon"></i>
					<p>Invalidate CloudFront with Lambda</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/athena">athena</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/aws">aws</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/parsing-sftp-logs-with-cloudwatch-log-insights/">
				<div>
					<i class="cocktail icon"></i>
					<p>Parsing SFTP logs with Cloudwatch log Insights</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/programatically-associating-lambda-edge-with-a-cloudfront-distribution/">
				<div>
					<i class="cocktail icon"></i>
					<p>Programatically associating Lambda@Edge with a CloudFront distribution</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/cep">cep</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/19/complex-event-processing-to-detect-click-fraud/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing to detect click fraud</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/15/complex-event-processing-for-fun-and-profit-part-deux/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit part deux</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/10/complex-event-processing-for-fun-and-profit/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/10/25/sample-esp-queries/">
				<div>
					<i class="cocktail icon"></i>
					<p>sample esp queries</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/cloudfront">cloudfront</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/invalidate-cloudfront-with-lambda/">
				<div>
					<i class="cocktail icon"></i>
					<p>Invalidate CloudFront with Lambda</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/programatically-associating-lambda-edge-with-a-cloudfront-distribution/">
				<div>
					<i class="cocktail icon"></i>
					<p>Programatically associating Lambda@Edge with a CloudFront distribution</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/content-security-policy">content-security-policy</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/devops">devops</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/04/13/puppet-lessons-learned/">
				<div>
					<i class="cocktail icon"></i>
					<p>puppet lessons learned</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/02/13/geo-blocking-with-iptables-slash-ipset/">
				<div>
					<i class="cocktail icon"></i>
					<p>geo blocking with iptables/ipset</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/04/04/creating-forensic-images/">
				<div>
					<i class="cocktail icon"></i>
					<p>creating forensic images</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/01/14/compressing-mysql-binary-logs/">
				<div>
					<i class="cocktail icon"></i>
					<p>compressing mysql binary logs</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/12/14/building-secure-linux-systems/">
				<div>
					<i class="cocktail icon"></i>
					<p>building secure linux systems</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/security-policy-templates/">
				<div>
					<i class="cocktail icon"></i>
					<p>security policy templates</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/04/17/cloning-systems/">
				<div>
					<i class="cocktail icon"></i>
					<p>cloning systems</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/dynamodb">dynamodb</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/encryption">encryption</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/esper">esper</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/19/complex-event-processing-to-detect-click-fraud/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing to detect click fraud</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/15/complex-event-processing-for-fun-and-profit-part-deux/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit part deux</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/10/complex-event-processing-for-fun-and-profit/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/10/25/sample-esp-queries/">
				<div>
					<i class="cocktail icon"></i>
					<p>sample esp queries</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/etl">etl</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2014/01/20/pdi-bag-of-tricks-dot-dot-dot/">
				<div>
					<i class="cocktail icon"></i>
					<p>pdi bag of tricks...</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2014/01/04/building-a-datawarehouse-for-testing/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a datawarehouse for testing</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/family">family</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2020/">
				<div>
					<i class="cocktail icon"></i>
					<p>2020</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/github">github</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/glue">glue</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/hugo-shortcodes">hugo-shortcodes</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-an-image-gallery-for-hugo/">
				<div>
					<i class="cocktail icon"></i>
					<p>Building an image gallery for Hugo</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/image-gallery">image-gallery</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/gallery-2015/">
				<div>
					<i class="cocktail icon"></i>
					<p>Image gallery 2015</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/java">java</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/spring-boot-react-fullstack-project-template-tutorial/">
				<div>
					<i class="cocktail icon"></i>
					<p>Spring Boot/React - FullStack Project Template/Tutorial</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/kids">kids</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/look-ma-no-training-wheels/">
				<div>
					<i class="cocktail icon"></i>
					<p>Look &#39;Ma, no training wheels...</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/kinesis">kinesis</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/kms">kms</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/lambda">lambda</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/invalidate-cloudfront-with-lambda/">
				<div>
					<i class="cocktail icon"></i>
					<p>Invalidate CloudFront with Lambda</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/lambdaedge">lambdaedge</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/programatically-associating-lambda-edge-with-a-cloudfront-distribution/">
				<div>
					<i class="cocktail icon"></i>
					<p>Programatically associating Lambda@Edge with a CloudFront distribution</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/linux">linux</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2016/02/04/introducing-cinched/">
				<div>
					<i class="cocktail icon"></i>
					<p>introducing cinched</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/04/13/puppet-lessons-learned/">
				<div>
					<i class="cocktail icon"></i>
					<p>puppet lessons learned</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/03/19/meshed-vpn-using-tinc/">
				<div>
					<i class="cocktail icon"></i>
					<p>meshed vpn using tinc</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/02/13/geo-blocking-with-iptables-slash-ipset/">
				<div>
					<i class="cocktail icon"></i>
					<p>geo blocking with iptables/ipset</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/04/04/creating-forensic-images/">
				<div>
					<i class="cocktail icon"></i>
					<p>creating forensic images</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/01/14/compressing-mysql-binary-logs/">
				<div>
					<i class="cocktail icon"></i>
					<p>compressing mysql binary logs</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/12/14/building-secure-linux-systems/">
				<div>
					<i class="cocktail icon"></i>
					<p>building secure linux systems</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/security-policy-templates/">
				<div>
					<i class="cocktail icon"></i>
					<p>security policy templates</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/mysql">mysql</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/string-set-manipulation-functions-for-mysql/">
				<div>
					<i class="cocktail icon"></i>
					<p>String set manipulation functions for MySQL</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/netlify-cms">netlify-cms</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/networking">networking</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/11/13/security-advice-for-the-average-joe/">
				<div>
					<i class="cocktail icon"></i>
					<p>security advice for the average joe</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/03/19/meshed-vpn-using-tinc/">
				<div>
					<i class="cocktail icon"></i>
					<p>meshed vpn using tinc</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/02/13/geo-blocking-with-iptables-slash-ipset/">
				<div>
					<i class="cocktail icon"></i>
					<p>geo blocking with iptables/ipset</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/24/tcpdump-tip-viewing-a-packet-stream-data-payload/">
				<div>
					<i class="cocktail icon"></i>
					<p>tcpdump tip viewing a packet stream data payload</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/23/i-see-packets-dot-dot-dot/">
				<div>
					<i class="cocktail icon"></i>
					<p>i see packets...</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/25/port-scanning-wihtout-a-port-scanner/">
				<div>
					<i class="cocktail icon"></i>
					<p>port scanning wihtout a port scanner</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/25/remote-shell-without-any-tools/">
				<div>
					<i class="cocktail icon"></i>
					<p>remote shell without any tools</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/14/validating-ip-addresses-in-php/">
				<div>
					<i class="cocktail icon"></i>
					<p>validating ip addresses in php</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/news">news</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/farewell-google-play-music-a-tale-in-three-acts/">
				<div>
					<i class="cocktail icon"></i>
					<p>Farewell Google Play Music - A tale in three acts...</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/tkd-mikey-blue-belt-grading/">
				<div>
					<i class="cocktail icon"></i>
					<p>TKD - Mikey blue belt grading</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/summer-2018/">
				<div>
					<i class="cocktail icon"></i>
					<p>Summer 2018</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/nosql">nosql</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/fun-with-bloom-filters-using-riak-mapreduce/">
				<div>
					<i class="cocktail icon"></i>
					<p>fun with bloom filters using riak mapreduce</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/note-to-self">note-to-self</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/getting-aws-ips-for-a-given-region/">
				<div>
					<i class="cocktail icon"></i>
					<p>Getting AWS IPs for a given region</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/php">php</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2014/01/10/unserializing-php-from-pdi/">
				<div>
					<i class="cocktail icon"></i>
					<p>unserializing php from pdi</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/14/validating-ip-addresses-in-php/">
				<div>
					<i class="cocktail icon"></i>
					<p>validating ip addresses in php</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/pro-tips">pro-tips</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/pro-tip-grep-through-terminal-history/">
				<div>
					<i class="cocktail icon"></i>
					<p>Pro-tip: grep through terminal history</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/quicksight">quicksight</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/random">random</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/flow-vs-sabotage/">
				<div>
					<i class="cocktail icon"></i>
					<p>Flow vs. Impedance vs. Sabotage</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/riak">riak</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/fun-with-bloom-filters-using-riak-mapreduce/">
				<div>
					<i class="cocktail icon"></i>
					<p>fun with bloom filters using riak mapreduce</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/s3">s3</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/safety">safety</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/3d-printing-safety-fire-detection-relay/">
				<div>
					<i class="cocktail icon"></i>
					<p>3d Printing Safety - Fire detection relay</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/security">security</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/parsing-sftp-logs-with-cloudwatch-log-insights/">
				<div>
					<i class="cocktail icon"></i>
					<p>Parsing SFTP logs with Cloudwatch log Insights</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2016/02/12/benchmarking-cinched/">
				<div>
					<i class="cocktail icon"></i>
					<p>benchmarking cinched</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2016/02/04/introducing-cinched/">
				<div>
					<i class="cocktail icon"></i>
					<p>introducing cinched</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2016/01/30/setting-up-a-ca/">
				<div>
					<i class="cocktail icon"></i>
					<p>setting up a ca</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/11/13/security-advice-for-the-average-joe/">
				<div>
					<i class="cocktail icon"></i>
					<p>security advice for the average joe</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/03/19/meshed-vpn-using-tinc/">
				<div>
					<i class="cocktail icon"></i>
					<p>meshed vpn using tinc</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/02/13/geo-blocking-with-iptables-slash-ipset/">
				<div>
					<i class="cocktail icon"></i>
					<p>geo blocking with iptables/ipset</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/04/04/creating-forensic-images/">
				<div>
					<i class="cocktail icon"></i>
					<p>creating forensic images</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/12/14/building-secure-linux-systems/">
				<div>
					<i class="cocktail icon"></i>
					<p>building secure linux systems</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/25/port-scanning-wihtout-a-port-scanner/">
				<div>
					<i class="cocktail icon"></i>
					<p>port scanning wihtout a port scanner</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/25/remote-shell-without-any-tools/">
				<div>
					<i class="cocktail icon"></i>
					<p>remote shell without any tools</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/security-policy-templates/">
				<div>
					<i class="cocktail icon"></i>
					<p>security policy templates</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/serverless">serverless</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/invalidate-cloudfront-with-lambda/">
				<div>
					<i class="cocktail icon"></i>
					<p>Invalidate CloudFront with Lambda</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/spring-boot">spring-boot</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/spring-boot-react-fullstack-project-template-tutorial/">
				<div>
					<i class="cocktail icon"></i>
					<p>Spring Boot/React - FullStack Project Template/Tutorial</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/sql">sql</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/01/14/compressing-mysql-binary-logs/">
				<div>
					<i class="cocktail icon"></i>
					<p>compressing mysql binary logs</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2012/08/22/calculating-distances-between-coordinates-in-sql/">
				<div>
					<i class="cocktail icon"></i>
					<p>calculating distances between coordinates in sql</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/travisci">travisci</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/tutorial">tutorial</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/spring-boot-react-fullstack-project-template-tutorial/">
				<div>
					<i class="cocktail icon"></i>
					<p>Spring Boot/React - FullStack Project Template/Tutorial</p>
				</div>
			</a>
		
	</div>


			</div>
		</section>
	

	
	<section id="footer" class="ui bottom attached center aligned inverted segment">
		<p>© 1999 - 2021 Mark&#39;s Blargh</p>
    
	</section>
</div>


		<div class="pusher">
			<div class="flipper">
				<div class="front">
					
	<nav class="ui top secondary menu bar">
	
	<div class="item">
		<i class="inverted big link bullseye icon dream-flip-toggle" title="About Me"></i>
	</div>

	
	
		<div class="item">
			<a href="/">
				<i class="inverted big link home icon" title="Home"></i>
			</a>
		</div>
	

	
	

	
	

	
	
		<div class="item">
			<a href="/categories">
				<i class="inverted big link cubes icon" title="All Categories"></i>
			</a>
    	</div>
	

	
	

	
	
		<div class="ui container tablet computer only grid">
			<div class="item" onClick="$('.ui.sidebar').sidebar('setting', 'transition', 'overlay').sidebar('toggle');">
				<i class="inverted big link sidebar icon" title="Show Sidebar"></i>
			</div>
		</div>
	

	
	
		<div class="item right">
			<a href="/posts/index.xml">
				<i class="inverted big link rss icon" title="RSS Feed"></i>
			</a>
		</div>
	
</nav>


	<div class="ui centered grid">
		
		<div class="sixteen wide mobile only column">
				<div class="ui inverted accordion">
	<div id="header" class="ui inverted segment column box">		
		
		<header id="author" class="ui top attached center aligned inverted segment">
			
<div class="ui small circular image">
	
		<img src="/images/mark.jpg">
	
</div>


<h3 class="ui header">
	Mark Steele
	<div class="sub header">Cogito Interruptus Vulgaris</div>
</h3>

		</header>

		
		<div class=" title header-title">
			
				<div id="tag-category-pop" class="ui red right corner label">
					<i class="hand point icon down" title="Show/hide tags and categories"></i>
				</div>
			
		</div>
		
		
		<div id="tag-category" class=" content">
			

			
				<section class="ui attached inverted segment dream-categories both flexbox">
					<div class="inverted accordion">
						
	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/3d-printing">3d-printing</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/3d-printing-safety-fire-detection-relay/">
				<div>
					<i class="cocktail icon"></i>
					<p>3d Printing Safety - Fire detection relay</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/analytics">analytics</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2014/01/04/building-a-datawarehouse-for-testing/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a datawarehouse for testing</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/19/complex-event-processing-to-detect-click-fraud/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing to detect click fraud</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/15/complex-event-processing-for-fun-and-profit-part-deux/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit part deux</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/10/complex-event-processing-for-fun-and-profit/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/10/25/sample-esp-queries/">
				<div>
					<i class="cocktail icon"></i>
					<p>sample esp queries</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/api-gateway">api-gateway</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/invalidate-cloudfront-with-lambda/">
				<div>
					<i class="cocktail icon"></i>
					<p>Invalidate CloudFront with Lambda</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/athena">athena</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/aws">aws</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/parsing-sftp-logs-with-cloudwatch-log-insights/">
				<div>
					<i class="cocktail icon"></i>
					<p>Parsing SFTP logs with Cloudwatch log Insights</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/programatically-associating-lambda-edge-with-a-cloudfront-distribution/">
				<div>
					<i class="cocktail icon"></i>
					<p>Programatically associating Lambda@Edge with a CloudFront distribution</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/cep">cep</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/19/complex-event-processing-to-detect-click-fraud/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing to detect click fraud</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/15/complex-event-processing-for-fun-and-profit-part-deux/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit part deux</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/10/complex-event-processing-for-fun-and-profit/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/10/25/sample-esp-queries/">
				<div>
					<i class="cocktail icon"></i>
					<p>sample esp queries</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/cloudfront">cloudfront</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/invalidate-cloudfront-with-lambda/">
				<div>
					<i class="cocktail icon"></i>
					<p>Invalidate CloudFront with Lambda</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/programatically-associating-lambda-edge-with-a-cloudfront-distribution/">
				<div>
					<i class="cocktail icon"></i>
					<p>Programatically associating Lambda@Edge with a CloudFront distribution</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/content-security-policy">content-security-policy</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/devops">devops</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/04/13/puppet-lessons-learned/">
				<div>
					<i class="cocktail icon"></i>
					<p>puppet lessons learned</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/02/13/geo-blocking-with-iptables-slash-ipset/">
				<div>
					<i class="cocktail icon"></i>
					<p>geo blocking with iptables/ipset</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/04/04/creating-forensic-images/">
				<div>
					<i class="cocktail icon"></i>
					<p>creating forensic images</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/01/14/compressing-mysql-binary-logs/">
				<div>
					<i class="cocktail icon"></i>
					<p>compressing mysql binary logs</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/12/14/building-secure-linux-systems/">
				<div>
					<i class="cocktail icon"></i>
					<p>building secure linux systems</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/security-policy-templates/">
				<div>
					<i class="cocktail icon"></i>
					<p>security policy templates</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/04/17/cloning-systems/">
				<div>
					<i class="cocktail icon"></i>
					<p>cloning systems</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/dynamodb">dynamodb</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/encryption">encryption</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/esper">esper</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/19/complex-event-processing-to-detect-click-fraud/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing to detect click fraud</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/15/complex-event-processing-for-fun-and-profit-part-deux/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit part deux</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/06/10/complex-event-processing-for-fun-and-profit/">
				<div>
					<i class="cocktail icon"></i>
					<p>complex event processing for fun and profit</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/10/25/sample-esp-queries/">
				<div>
					<i class="cocktail icon"></i>
					<p>sample esp queries</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/etl">etl</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2014/01/20/pdi-bag-of-tricks-dot-dot-dot/">
				<div>
					<i class="cocktail icon"></i>
					<p>pdi bag of tricks...</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2014/01/04/building-a-datawarehouse-for-testing/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a datawarehouse for testing</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/family">family</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2020/">
				<div>
					<i class="cocktail icon"></i>
					<p>2020</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/github">github</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/glue">glue</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/hugo-shortcodes">hugo-shortcodes</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-an-image-gallery-for-hugo/">
				<div>
					<i class="cocktail icon"></i>
					<p>Building an image gallery for Hugo</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/image-gallery">image-gallery</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/gallery-2015/">
				<div>
					<i class="cocktail icon"></i>
					<p>Image gallery 2015</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/java">java</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/spring-boot-react-fullstack-project-template-tutorial/">
				<div>
					<i class="cocktail icon"></i>
					<p>Spring Boot/React - FullStack Project Template/Tutorial</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/kids">kids</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/look-ma-no-training-wheels/">
				<div>
					<i class="cocktail icon"></i>
					<p>Look &#39;Ma, no training wheels...</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/kinesis">kinesis</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/kms">kms</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/lambda">lambda</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/invalidate-cloudfront-with-lambda/">
				<div>
					<i class="cocktail icon"></i>
					<p>Invalidate CloudFront with Lambda</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/lambdaedge">lambdaedge</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/programatically-associating-lambda-edge-with-a-cloudfront-distribution/">
				<div>
					<i class="cocktail icon"></i>
					<p>Programatically associating Lambda@Edge with a CloudFront distribution</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/linux">linux</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2016/02/04/introducing-cinched/">
				<div>
					<i class="cocktail icon"></i>
					<p>introducing cinched</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/04/13/puppet-lessons-learned/">
				<div>
					<i class="cocktail icon"></i>
					<p>puppet lessons learned</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/03/19/meshed-vpn-using-tinc/">
				<div>
					<i class="cocktail icon"></i>
					<p>meshed vpn using tinc</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/02/13/geo-blocking-with-iptables-slash-ipset/">
				<div>
					<i class="cocktail icon"></i>
					<p>geo blocking with iptables/ipset</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/04/04/creating-forensic-images/">
				<div>
					<i class="cocktail icon"></i>
					<p>creating forensic images</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/01/14/compressing-mysql-binary-logs/">
				<div>
					<i class="cocktail icon"></i>
					<p>compressing mysql binary logs</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/12/14/building-secure-linux-systems/">
				<div>
					<i class="cocktail icon"></i>
					<p>building secure linux systems</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/security-policy-templates/">
				<div>
					<i class="cocktail icon"></i>
					<p>security policy templates</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/mysql">mysql</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/string-set-manipulation-functions-for-mysql/">
				<div>
					<i class="cocktail icon"></i>
					<p>String set manipulation functions for MySQL</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/netlify-cms">netlify-cms</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/networking">networking</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/11/13/security-advice-for-the-average-joe/">
				<div>
					<i class="cocktail icon"></i>
					<p>security advice for the average joe</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/03/19/meshed-vpn-using-tinc/">
				<div>
					<i class="cocktail icon"></i>
					<p>meshed vpn using tinc</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/02/13/geo-blocking-with-iptables-slash-ipset/">
				<div>
					<i class="cocktail icon"></i>
					<p>geo blocking with iptables/ipset</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/24/tcpdump-tip-viewing-a-packet-stream-data-payload/">
				<div>
					<i class="cocktail icon"></i>
					<p>tcpdump tip viewing a packet stream data payload</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/10/23/i-see-packets-dot-dot-dot/">
				<div>
					<i class="cocktail icon"></i>
					<p>i see packets...</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/25/port-scanning-wihtout-a-port-scanner/">
				<div>
					<i class="cocktail icon"></i>
					<p>port scanning wihtout a port scanner</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/25/remote-shell-without-any-tools/">
				<div>
					<i class="cocktail icon"></i>
					<p>remote shell without any tools</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/14/validating-ip-addresses-in-php/">
				<div>
					<i class="cocktail icon"></i>
					<p>validating ip addresses in php</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/news">news</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/farewell-google-play-music-a-tale-in-three-acts/">
				<div>
					<i class="cocktail icon"></i>
					<p>Farewell Google Play Music - A tale in three acts...</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/tkd-mikey-blue-belt-grading/">
				<div>
					<i class="cocktail icon"></i>
					<p>TKD - Mikey blue belt grading</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/summer-2018/">
				<div>
					<i class="cocktail icon"></i>
					<p>Summer 2018</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/nosql">nosql</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/fun-with-bloom-filters-using-riak-mapreduce/">
				<div>
					<i class="cocktail icon"></i>
					<p>fun with bloom filters using riak mapreduce</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/note-to-self">note-to-self</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/getting-aws-ips-for-a-given-region/">
				<div>
					<i class="cocktail icon"></i>
					<p>Getting AWS IPs for a given region</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/php">php</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2014/01/10/unserializing-php-from-pdi/">
				<div>
					<i class="cocktail icon"></i>
					<p>unserializing php from pdi</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/14/validating-ip-addresses-in-php/">
				<div>
					<i class="cocktail icon"></i>
					<p>validating ip addresses in php</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/pro-tips">pro-tips</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/pro-tip-grep-through-terminal-history/">
				<div>
					<i class="cocktail icon"></i>
					<p>Pro-tip: grep through terminal history</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/quicksight">quicksight</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/random">random</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/flow-vs-sabotage/">
				<div>
					<i class="cocktail icon"></i>
					<p>Flow vs. Impedance vs. Sabotage</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/riak">riak</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/fun-with-bloom-filters-using-riak-mapreduce/">
				<div>
					<i class="cocktail icon"></i>
					<p>fun with bloom filters using riak mapreduce</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/s3">s3</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/safety">safety</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/3d-printing-safety-fire-detection-relay/">
				<div>
					<i class="cocktail icon"></i>
					<p>3d Printing Safety - Fire detection relay</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/security">security</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/parsing-sftp-logs-with-cloudwatch-log-insights/">
				<div>
					<i class="cocktail icon"></i>
					<p>Parsing SFTP logs with Cloudwatch log Insights</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/one-time-password-sharing-securely/">
				<div>
					<i class="cocktail icon"></i>
					<p>One-time password sharing... securely!</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2016/02/12/benchmarking-cinched/">
				<div>
					<i class="cocktail icon"></i>
					<p>benchmarking cinched</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2016/02/04/introducing-cinched/">
				<div>
					<i class="cocktail icon"></i>
					<p>introducing cinched</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2016/01/30/setting-up-a-ca/">
				<div>
					<i class="cocktail icon"></i>
					<p>setting up a ca</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/11/13/security-advice-for-the-average-joe/">
				<div>
					<i class="cocktail icon"></i>
					<p>security advice for the average joe</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/03/19/meshed-vpn-using-tinc/">
				<div>
					<i class="cocktail icon"></i>
					<p>meshed vpn using tinc</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2015/02/13/geo-blocking-with-iptables-slash-ipset/">
				<div>
					<i class="cocktail icon"></i>
					<p>geo blocking with iptables/ipset</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/04/04/creating-forensic-images/">
				<div>
					<i class="cocktail icon"></i>
					<p>creating forensic images</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/12/14/building-secure-linux-systems/">
				<div>
					<i class="cocktail icon"></i>
					<p>building secure linux systems</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/25/port-scanning-wihtout-a-port-scanner/">
				<div>
					<i class="cocktail icon"></i>
					<p>port scanning wihtout a port scanner</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/11/25/remote-shell-without-any-tools/">
				<div>
					<i class="cocktail icon"></i>
					<p>remote shell without any tools</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2011/09/14/security-policy-templates/">
				<div>
					<i class="cocktail icon"></i>
					<p>security policy templates</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/serverless">serverless</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/envelope-encryption-in-lambda-functions-with-dynamodb-and-kms/">
				<div>
					<i class="cocktail icon"></i>
					<p>Envelope encryption in Lambda functions with DynamoDB and KMS</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-content-security-policy/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless content security policy</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/invalidate-cloudfront-with-lambda/">
				<div>
					<i class="cocktail icon"></i>
					<p>Invalidate CloudFront with Lambda</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/building-a-serverless-analytics-platform-at-lolscale/">
				<div>
					<i class="cocktail icon"></i>
					<p>building a serverless analytics platform at lolscale</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/spring-boot">spring-boot</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/spring-boot-react-fullstack-project-template-tutorial/">
				<div>
					<i class="cocktail icon"></i>
					<p>Spring Boot/React - FullStack Project Template/Tutorial</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/sql">sql</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/2013/01/14/compressing-mysql-binary-logs/">
				<div>
					<i class="cocktail icon"></i>
					<p>compressing mysql binary logs</p>
				</div>
			</a>
		
			<a class="item" href="https://www.control-alt-del.org/posts/2012/08/22/calculating-distances-between-coordinates-in-sql/">
				<div>
					<i class="cocktail icon"></i>
					<p>calculating distances between coordinates in sql</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/travisci">travisci</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/serverless-blog-howto/">
				<div>
					<i class="cocktail icon"></i>
					<p>Serverless blog HOWTO</p>
				</div>
			</a>
		
	</div>

	
	<div class="title">
		<i class="dropdown icon"></i>
		<a class="link" href="/categories/tutorial">tutorial</a>
	</div>

	
	<div class="content">
		
			<a class="item" href="https://www.control-alt-del.org/posts/spring-boot-react-fullstack-project-template-tutorial/">
				<div>
					<i class="cocktail icon"></i>
					<p>Spring Boot/React - FullStack Project Template/Tutorial</p>
				</div>
			</a>
		
	</div>


					</div>
				</section>
			
		</div>

		
		<footer class="ui bottom attached center aligned inverted segment">
			<p>© 1999 - 2021 Mark&#39;s Blargh</p>
    
		</footer>
	</div>
</div>

		</div>

		<div class="sixteen wide mobile fifteen wide tablet twelve wide computer column post-list">
			
			<section class="ui secondary top attached black segment post-head">
				<h1 class="post-title">
					Spring Boot/React - FullStack Project Template/Tutorial
				</h1>

				<div class="sub header">
					<div><span><i class="calendar outline icon"></i>Apr 12, 2020</span></div>
					
					<div><span><i class="clock outline icon"></i>33 min read</span></div>
					<div><span><i class="angle double up icon"></i>Last updated on Apr 12, 2020</span></div>
				</div>
				<hr>

				

				<article class="post-content twemoji">
					

<p>Here's a Spring Boot project template/tutorial that I've put together to try to get some best practices codified on how to quickly throw together a service.</p>

<p>Full code here for the impatient: <a href="https://github.com/marksteele/SpringBootReactFullStackSample">https://github.com/marksteele/SpringBootReactFullStackSample</a></p>

<p>Here's what it'll look like when we're done (note my amazing front-end skills)</p>

<p><img src="/images/app.jpg" alt="null" /></p>

<p>We'll cover: REST endpoints, scheduled tasks, thread-pools to parallelize work, React, MySQL, 12-factor app best practices, OAuth2 (google), monitoring, unit testing, code coverage, project mess detection, spotbugs, DevOps and more!</p>

<p>This blog post is going to be a bit of a beast, so before I dig too deep let's set the stage on what we're trying to accomplish. First, we'd like to build a modern front-end and back-end system. For the front-end, we'll use React. For the back-end, we'll use Java+Spring Boot.</p>

<p>Our fictitious project is called Visitors. We have been tasked to build a form where users can enter an IP address, and we are supposed to save it to a database. We'd also like to see the entries in the database as well.</p>

<p>The stakeholders in this type of project typically are: The product owner, front-end engineer, back-end engineer, QA, DevOps &amp; Security. Hopefully by the time we're done, everyone's happy.</p>

<p>In this example, we want the front-end to be packaged and deployed inside the back-end application. For this reason, we're going to co-locate the front-end and back-end code in the same repo, and make it relatively easy for both front-end or back-end developers to work on.</p>

<p>On the back-end side, we'd like some APIs:</p>

<ul>
<li>List all IPs for which we don't have country information for.<br /></li>
<li>Lookup the location of an IP address in real-time.<br /></li>
<li>Trigger a background task that scans the database immediately and attempts to geo-locate all unknown IP locations.<br /></li>
<li>An API endpoint to add new IPs<br /></li>
<li>An API endpoint to view all the entries in the table.<br />
<br /></li>
</ul>

<p>In addition to the APIs, we'd also want the back-end to trigger resolving all unknown IP locations on a daily basis.</p>

<p>Furthermore, as the numbers of entries in the database might get large, we'd want the geo-lookups to be done in parallel, several simultaneously.</p>

<p>We're always security conscious, so we'll want the whole shebang to be protected via OAuth2, and authenticate via our google domain. We also want our backend/front-end protected with CSRF.</p>

<p>We'll use Maven and we want to create a fat jar that can run everything stand-alone. That'll make deploying it easy.</p>

<p>Our DevOps wants everything configured via environment variables.</p>

<p>To help with quality, consistency, and security we'll run the following checks against the code every time we build it:</p>

<ul>
<li>Unit tests,<br /></li>
<li>Unit test code coverage<br /></li>
<li>Code styling (google coding standard)<br /></li>
<li>Static code analysis<br />

<ul>
<li>Spotbugs<br /></li>
<li>Project mess detection<br /></li>
<li>Copy paste detection<br /></li>
</ul></li>
<li>Automatic detection of vulnerable dependancies (OWASP)<br />
<br /></li>
</ul>

<p>Also, it'd be nice if the APIs were documented somehow.</p>

<p>Phew! Let's get crackin.</p>

<h1 id="backend">Backend&nbsp;<a class="anchor" href="#backend"><i class="small linkify icon"></i></a> </h1>

<p>All rightie. First things first, it is assumed that you know your way around your IDE and have used maven before. You'll also need to have a MySQL server up and running with credentials, and a database called 'sample'.</p>

<h2 id="config">Config&nbsp;<a class="anchor" href="#config"><i class="small linkify icon"></i></a> </h2>

<p>Here's the <code>pom.xml</code> for this project. It's got all the goodies inside.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
	<span class="nt">&lt;parent&gt;</span>
		<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
		<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;version&gt;</span>2.3.0.M4<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;relativePath/&gt;</span> <span class="c">&lt;!-- lookup parent from repository --&gt;</span>
	<span class="nt">&lt;/parent&gt;</span>
	<span class="nt">&lt;groupId&gt;</span>org.controlaltdel.sample<span class="nt">&lt;/groupId&gt;</span>
	<span class="nt">&lt;artifactId&gt;</span>service<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
	<span class="nt">&lt;name&gt;</span>${project.artifactId}<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;description&gt;</span>Sample Project<span class="nt">&lt;/description&gt;</span>

	<span class="nt">&lt;properties&gt;</span>
		<span class="nt">&lt;java.version&gt;</span>11<span class="nt">&lt;/java.version&gt;</span>
		<span class="nt">&lt;maven.compiler.source&gt;</span>${java.version}<span class="nt">&lt;/maven.compiler.source&gt;</span>
		<span class="nt">&lt;maven.compiler.target&gt;</span>${java.version}<span class="nt">&lt;/maven.compiler.target&gt;</span>
		<span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
		<span class="nt">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.reporting.outputEncoding&gt;</span>
		<span class="c">&lt;!-- Dependencies --&gt;</span>
		<span class="nt">&lt;javax-xml-bind.version&gt;</span>2.3.1<span class="nt">&lt;/javax-xml-bind.version&gt;</span>
		<span class="nt">&lt;logback-json.version&gt;</span>0.1.5<span class="nt">&lt;/logback-json.version&gt;</span>
		<span class="nt">&lt;mockito.version&gt;</span>2.23.4<span class="nt">&lt;/mockito.version&gt;</span>
		<span class="c">&lt;!-- Build settings --&gt;</span>
		<span class="nt">&lt;dependency-check-maven.version&gt;</span>5.2.2<span class="nt">&lt;/dependency-check-maven.version&gt;</span>
		<span class="nt">&lt;maven-surefire-plugin.version&gt;</span>2.22.2<span class="nt">&lt;/maven-surefire-plugin.version&gt;</span>
		<span class="nt">&lt;jacoco-maven-plugin.version&gt;</span>0.8.5<span class="nt">&lt;/jacoco-maven-plugin.version&gt;</span>
		<span class="nt">&lt;maven-checkstyle-plugin.version&gt;</span>3.1.1<span class="nt">&lt;/maven-checkstyle-plugin.version&gt;</span>
		<span class="nt">&lt;maven-pmd-plugin.version&gt;</span>3.12.0<span class="nt">&lt;/maven-pmd-plugin.version&gt;</span>
		<span class="nt">&lt;spotbugs-maven-plugin.version&gt;</span>3.1.12.2<span class="nt">&lt;/spotbugs-maven-plugin.version&gt;</span>
		<span class="nt">&lt;build-tools.version&gt;</span>0.0.6<span class="nt">&lt;/build-tools.version&gt;</span>
		<span class="nt">&lt;coverage.minimum&gt;</span>0.75<span class="nt">&lt;/coverage.minimum&gt;</span>
		<span class="nt">&lt;cpd.tokens&gt;</span>150<span class="nt">&lt;/cpd.tokens&gt;</span>
		<span class="nt">&lt;pmd.priority&gt;</span>4<span class="nt">&lt;/pmd.priority&gt;</span>
	<span class="nt">&lt;/properties&gt;</span>

	<span class="nt">&lt;dependencies&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>5.1.46<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-jdbc<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>com.pivovarit<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>parallel-collectors<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>1.1.0<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-actuator<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-oauth2-client<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-security-oauth2-jose<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-security<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-webmvc<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-configuration-processor<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-cloud-context<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>2.1.2.RELEASE<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>io.springfox<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>springfox-swagger2<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>2.9.2<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>io.springfox<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>springfox-swagger-ui<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>2.9.2<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
			<span class="nt">&lt;exclusions&gt;</span>
				<span class="nt">&lt;exclusion&gt;</span>
					<span class="nt">&lt;groupId&gt;</span>org.junit.vintage<span class="nt">&lt;/groupId&gt;</span>
					<span class="nt">&lt;artifactId&gt;</span>junit-vintage-engine<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;/exclusion&gt;</span>
			<span class="nt">&lt;/exclusions&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-security-test<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.mockito<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>mockito-core<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>${mockito.version}<span class="nt">&lt;/version&gt;</span>
			<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
	<span class="nt">&lt;/dependencies&gt;</span>

	<span class="nt">&lt;build&gt;</span>
		<span class="nt">&lt;finalName&gt;</span>service<span class="nt">&lt;/finalName&gt;</span>
		<span class="nt">&lt;plugins&gt;</span>
			<span class="nt">&lt;plugin&gt;</span>
				<span class="c">&lt;!-- To generate report, run: mvn dependency-check:aggregate --&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.owasp<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>dependency-check-maven<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>${dependency-check-maven.version}<span class="nt">&lt;/version&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>
			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>${maven-surefire-plugin.version}<span class="nt">&lt;/version&gt;</span>

				<span class="nt">&lt;configuration&gt;</span>
					<span class="nt">&lt;useSystemClassLoader&gt;</span>false<span class="nt">&lt;/useSystemClassLoader&gt;</span>
					<span class="nt">&lt;trimStackTrace&gt;</span>false<span class="nt">&lt;/trimStackTrace&gt;</span>
				<span class="nt">&lt;/configuration&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>

			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.jacoco<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>jacoco-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>${jacoco-maven-plugin.version}<span class="nt">&lt;/version&gt;</span>

				<span class="nt">&lt;configuration&gt;</span>
					<span class="nt">&lt;excludes&gt;</span>
						<span class="nt">&lt;exclude&gt;</span>org/controlaltdel/**/model/**<span class="nt">&lt;/exclude&gt;</span>
					<span class="nt">&lt;/excludes&gt;</span>

					<span class="nt">&lt;rules&gt;</span>
						<span class="nt">&lt;rule&gt;</span>
							<span class="nt">&lt;element&gt;</span>BUNDLE<span class="nt">&lt;/element&gt;</span>

							<span class="nt">&lt;limits&gt;</span>
								<span class="nt">&lt;limit&gt;</span>
									<span class="nt">&lt;counter&gt;</span>INSTRUCTION<span class="nt">&lt;/counter&gt;</span>
									<span class="nt">&lt;value&gt;</span>COVEREDRATIO<span class="nt">&lt;/value&gt;</span>
									<span class="nt">&lt;minimum&gt;</span>${coverage.minimum}<span class="nt">&lt;/minimum&gt;</span>
								<span class="nt">&lt;/limit&gt;</span>
							<span class="nt">&lt;/limits&gt;</span>
						<span class="nt">&lt;/rule&gt;</span>
					<span class="nt">&lt;/rules&gt;</span>
				<span class="nt">&lt;/configuration&gt;</span>

				<span class="nt">&lt;executions&gt;</span>
					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;id&gt;</span>jacoco-initialize<span class="nt">&lt;/id&gt;</span>

						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>prepare-agent<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>

					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;id&gt;</span>jacoco-check<span class="nt">&lt;/id&gt;</span>
						<span class="nt">&lt;phase&gt;</span>test<span class="nt">&lt;/phase&gt;</span>

						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>report<span class="nt">&lt;/goal&gt;</span>
							<span class="nt">&lt;goal&gt;</span>check<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>
				<span class="nt">&lt;/executions&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>

			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>maven-checkstyle-plugin<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>${maven-checkstyle-plugin.version}<span class="nt">&lt;/version&gt;</span>

				<span class="nt">&lt;configuration&gt;</span>
					<span class="nt">&lt;consoleOutput&gt;</span>true<span class="nt">&lt;/consoleOutput&gt;</span>
					<span class="nt">&lt;failsOnError&gt;</span>true<span class="nt">&lt;/failsOnError&gt;</span>
					<span class="nt">&lt;failOnViolation&gt;</span>true<span class="nt">&lt;/failOnViolation&gt;</span>
					<span class="nt">&lt;violationSeverity&gt;</span>warning<span class="nt">&lt;/violationSeverity&gt;</span>
					<span class="nt">&lt;linkXRef&gt;</span>false<span class="nt">&lt;/linkXRef&gt;</span>
					<span class="nt">&lt;encoding&gt;</span>${project.build.sourceEncoding}<span class="nt">&lt;/encoding&gt;</span>
					<span class="nt">&lt;configLocation&gt;</span>google_checks.xml<span class="nt">&lt;/configLocation&gt;</span>
					<span class="nt">&lt;suppressionsFileExpression&gt;</span>checkstyle.suppressions.file<span class="nt">&lt;/suppressionsFileExpression&gt;</span>
					<span class="nt">&lt;excludes&gt;</span>org/controlaltdel/**/model/**
					<span class="nt">&lt;/excludes&gt;</span>
				<span class="nt">&lt;/configuration&gt;</span>

				<span class="nt">&lt;executions&gt;</span>
					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;id&gt;</span>checkstyle-check<span class="nt">&lt;/id&gt;</span>
						<span class="nt">&lt;phase&gt;</span>test<span class="nt">&lt;/phase&gt;</span>

						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>check<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>
				<span class="nt">&lt;/executions&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>

			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>maven-pmd-plugin<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>${maven-pmd-plugin.version}<span class="nt">&lt;/version&gt;</span>

				<span class="nt">&lt;configuration&gt;</span>
					<span class="nt">&lt;linkXRef&gt;</span>false<span class="nt">&lt;/linkXRef&gt;</span>
					<span class="nt">&lt;aggregate&gt;</span>true<span class="nt">&lt;/aggregate&gt;</span>
					<span class="nt">&lt;printFailingErrors&gt;</span>true<span class="nt">&lt;/printFailingErrors&gt;</span>
					<span class="nt">&lt;sourceEncoding&gt;</span>${project.build.sourceEncoding}<span class="nt">&lt;/sourceEncoding&gt;</span>
					<span class="nt">&lt;minimumPriority&gt;</span>${pmd.priority}<span class="nt">&lt;/minimumPriority&gt;</span>
					<span class="nt">&lt;minimumTokens&gt;</span>${cpd.tokens}<span class="nt">&lt;/minimumTokens&gt;</span>
					<span class="nt">&lt;targetJdk&gt;</span>${java.version}<span class="nt">&lt;/targetJdk&gt;</span>
					<span class="nt">&lt;rulesets&gt;</span>
						<span class="nt">&lt;ruleset&gt;</span>pmd.xml<span class="nt">&lt;/ruleset&gt;</span>
					<span class="nt">&lt;/rulesets&gt;</span>
				<span class="nt">&lt;/configuration&gt;</span>

				<span class="nt">&lt;executions&gt;</span>
					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;id&gt;</span>pmd-check<span class="nt">&lt;/id&gt;</span>
						<span class="nt">&lt;phase&gt;</span>test<span class="nt">&lt;/phase&gt;</span>

						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>pmd<span class="nt">&lt;/goal&gt;</span>
							<span class="nt">&lt;goal&gt;</span>cpd<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>
				<span class="nt">&lt;/executions&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>

			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>com.github.spotbugs<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>spotbugs-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>${spotbugs-maven-plugin.version}<span class="nt">&lt;/version&gt;</span>

				<span class="nt">&lt;configuration&gt;</span>
					<span class="nt">&lt;effort&gt;</span>Max<span class="nt">&lt;/effort&gt;</span>
					<span class="nt">&lt;threshold&gt;</span>Low<span class="nt">&lt;/threshold&gt;</span>
					<span class="nt">&lt;failOnError&gt;</span>true<span class="nt">&lt;/failOnError&gt;</span>
				<span class="nt">&lt;/configuration&gt;</span>

				<span class="nt">&lt;executions&gt;</span>
					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;id&gt;</span>spotbugs-check<span class="nt">&lt;/id&gt;</span>
						<span class="nt">&lt;phase&gt;</span>test<span class="nt">&lt;/phase&gt;</span>

						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>spotbugs<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>
				<span class="nt">&lt;/executions&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>
			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>

			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>com.github.eirslett<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>frontend-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>1.9.1<span class="nt">&lt;/version&gt;</span>
				<span class="nt">&lt;configuration&gt;</span>
					<span class="nt">&lt;workingDirectory&gt;</span>frontend<span class="nt">&lt;/workingDirectory&gt;</span>
					<span class="nt">&lt;installDirectory&gt;</span>target<span class="nt">&lt;/installDirectory&gt;</span>
				<span class="nt">&lt;/configuration&gt;</span>
				<span class="nt">&lt;executions&gt;</span>
					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;id&gt;</span>install node and npm<span class="nt">&lt;/id&gt;</span>
						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>install-node-and-npm<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
						<span class="nt">&lt;configuration&gt;</span>
							<span class="nt">&lt;nodeVersion&gt;</span>v12.16.1<span class="nt">&lt;/nodeVersion&gt;</span>
							<span class="nt">&lt;npmVersion&gt;</span>6.13.4<span class="nt">&lt;/npmVersion&gt;</span>
						<span class="nt">&lt;/configuration&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>
					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;id&gt;</span>npm install<span class="nt">&lt;/id&gt;</span>
						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>npm<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
						<span class="nt">&lt;configuration&gt;</span>
							<span class="nt">&lt;arguments&gt;</span>install<span class="nt">&lt;/arguments&gt;</span>
						<span class="nt">&lt;/configuration&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>
					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;id&gt;</span>npm run build<span class="nt">&lt;/id&gt;</span>
						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>npm<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
						<span class="nt">&lt;configuration&gt;</span>
							<span class="nt">&lt;arguments&gt;</span>run build<span class="nt">&lt;/arguments&gt;</span>
						<span class="nt">&lt;/configuration&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>
				<span class="nt">&lt;/executions&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>

			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>maven-antrun-plugin<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;executions&gt;</span>
					<span class="nt">&lt;execution&gt;</span>
						<span class="nt">&lt;phase&gt;</span>generate-resources<span class="nt">&lt;/phase&gt;</span>
						<span class="nt">&lt;configuration&gt;</span>
							<span class="nt">&lt;target&gt;</span>
								<span class="nt">&lt;copy</span> <span class="na">todir=</span><span class="s">&#34;${project.build.directory}/classes/public&#34;</span><span class="nt">&gt;</span>
									<span class="nt">&lt;fileset</span> <span class="na">dir=</span><span class="s">&#34;${project.basedir}/frontend/build&#34;</span><span class="nt">/&gt;</span>
								<span class="nt">&lt;/copy&gt;</span>
							<span class="nt">&lt;/target&gt;</span>
						<span class="nt">&lt;/configuration&gt;</span>
						<span class="nt">&lt;goals&gt;</span>
							<span class="nt">&lt;goal&gt;</span>run<span class="nt">&lt;/goal&gt;</span>
						<span class="nt">&lt;/goals&gt;</span>
					<span class="nt">&lt;/execution&gt;</span>
				<span class="nt">&lt;/executions&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>
		<span class="nt">&lt;/plugins&gt;</span>
	<span class="nt">&lt;/build&gt;</span>

	<span class="nt">&lt;repositories&gt;</span>
		<span class="nt">&lt;repository&gt;</span>
			<span class="nt">&lt;id&gt;</span>spring-milestones<span class="nt">&lt;/id&gt;</span>
			<span class="nt">&lt;name&gt;</span>Spring Milestones<span class="nt">&lt;/name&gt;</span>
			<span class="nt">&lt;url&gt;</span>https://repo.spring.io/milestone<span class="nt">&lt;/url&gt;</span>
		<span class="nt">&lt;/repository&gt;</span>
	<span class="nt">&lt;/repositories&gt;</span>
	<span class="nt">&lt;pluginRepositories&gt;</span>
		<span class="nt">&lt;pluginRepository&gt;</span>
			<span class="nt">&lt;id&gt;</span>spring-milestones<span class="nt">&lt;/id&gt;</span>
			<span class="nt">&lt;name&gt;</span>Spring Milestones<span class="nt">&lt;/name&gt;</span>
			<span class="nt">&lt;url&gt;</span>https://repo.spring.io/milestone<span class="nt">&lt;/url&gt;</span>
		<span class="nt">&lt;/pluginRepository&gt;</span>
	<span class="nt">&lt;/pluginRepositories&gt;</span>

<span class="nt">&lt;/project&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>Next we want to create our app config file: <code>src\main\resources\bootstrap.yml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml">spring<span class="p">:</span><span class="w">
</span><span class="w">  </span>main<span class="p">:</span><span class="w">
</span><span class="w">    </span>banner-mode<span class="p">:</span><span class="w"> </span><span class="s2">&#34;off&#34;</span><span class="w"> </span><span class="c"># Requires to be quoted</span><span class="w">
</span><span class="w">  </span>application<span class="p">:</span><span class="w">
</span><span class="w">    </span>name<span class="p">:</span><span class="w"> </span>service<span class="w">
</span><span class="w">  </span>datasource.driverClassName<span class="p">:</span><span class="w"> </span>com.mysql.jdbc.Driver<span class="w">
</span><span class="w">  </span>datasource<span class="p">:</span><span class="w">
</span><span class="w">    </span>url<span class="p">:</span><span class="w"> </span><span class="s2">&#34;jdbc:mysql://${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}?useSSL=false&amp;useConfigs=maxPerformance&#34;</span><span class="w">
</span><span class="w">    </span>username<span class="p">:</span><span class="w"> </span><span class="s2">&#34;${DATABASE_USER}&#34;</span><span class="w">
</span><span class="w">    </span>password<span class="p">:</span><span class="w"> </span><span class="s2">&#34;${DATABASE_PASSWORD}&#34;</span><span class="w">
</span><span class="w">    </span>hikari<span class="p">:</span><span class="w">
</span><span class="w">      </span>connectionTimeout<span class="p">:</span><span class="w"> </span><span class="m">3000</span><span class="w">
</span><span class="w">      </span>maxLifetime<span class="p">:</span><span class="w"> </span><span class="m">60000</span><span class="w">
</span><span class="w">      </span>prepStmtCacheSize<span class="p">:</span><span class="w"> </span><span class="m">250</span><span class="w">
</span><span class="w">      </span>prepStmtCacheSqlLimit<span class="p">:</span><span class="w"> </span><span class="m">2048</span><span class="w">
</span><span class="w">      </span>connectionTestQuery<span class="p">:</span><span class="w"> </span><span class="s2">&#34;SELECT 1&#34;</span><span class="w">
</span><span class="w">  </span>http<span class="p">:</span><span class="w">
</span><span class="w">    </span>log-request-details<span class="p">:</span><span class="w"> </span><span class="s2">&#34;${LOG_HTTP_REQUEST_DETAILS:true}&#34;</span><span class="w">
</span><span class="w">  </span>security<span class="p">:</span><span class="w">
</span><span class="w">    </span>oauth2<span class="p">:</span><span class="w">
</span><span class="w">      </span>client<span class="p">:</span><span class="w">
</span><span class="w">        </span>registration<span class="p">:</span><span class="w">
</span><span class="w">          </span>google<span class="p">:</span><span class="w">
</span><span class="w">            </span>client-id<span class="p">:</span><span class="w"> </span><span class="s2">&#34;${GOOGLE_OAUTH2_CLIENT_ID}&#34;</span><span class="w">
</span><span class="w">            </span>client-secret<span class="p">:</span><span class="w"> </span><span class="s2">&#34;${GOOGLE_OAUTH2_CLIENT_SECRET}&#34;</span><span class="w">
</span><span class="w">
</span><span class="w"></span>logging<span class="p">:</span><span class="w">
</span><span class="w">  </span>level<span class="p">:</span><span class="w">
</span><span class="w">    </span>org<span class="p">:</span><span class="w">
</span><span class="w">      </span>springframework<span class="p">:</span><span class="w">
</span><span class="w">        </span>web<span class="p">:</span><span class="w"> </span><span class="s2">&#34;${LOG_LEVEL:DEBUG}&#34;</span><span class="w">
</span><span class="w">      </span>controlaltdel<span class="p">:</span><span class="w">
</span><span class="w">        </span>sample<span class="p">:</span><span class="w">
</span><span class="w">          </span>service<span class="p">:</span><span class="w"> </span><span class="s2">&#34;${LOG_LEVEL:DEBUG}&#34;</span><span class="w">
</span><span class="w">
</span><span class="w"></span>server<span class="p">:</span><span class="w">
</span><span class="w">  </span>error<span class="p">:</span><span class="w">
</span><span class="w">    </span>whitelabel<span class="p">:</span><span class="w">
</span><span class="w">      </span>enabled<span class="p">:</span><span class="w"> </span><span class="s2">&#34;false&#34;</span><span class="w">
</span><span class="w">  </span>port<span class="p">:</span><span class="w"> </span><span class="m">8080</span><span class="w">
</span><span class="w">  </span>servlet<span class="p">:</span><span class="w">
</span><span class="w">    </span>context-path<span class="p">:</span><span class="w"> </span>/<span class="w">
</span><span class="w">
</span><span class="w"></span>management<span class="p">:</span><span class="w">
</span><span class="w">  </span>endpoint<span class="p">:</span><span class="w">
</span><span class="w">    </span>metrics<span class="p">:</span><span class="w">
</span><span class="w">      </span>enabled<span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span>endpoints<span class="p">:</span><span class="w">
</span><span class="w">    </span>web<span class="p">:</span><span class="w">
</span><span class="w">      </span>exposure<span class="p">:</span><span class="w">
</span><span class="w">        </span>include<span class="p">:</span><span class="w"> </span><span class="s2">&#34;*&#34;</span><span class="w">
</span><span class="w">  </span>server<span class="p">:</span><span class="w">
</span><span class="w">    </span>port<span class="p">:</span><span class="w"> </span><span class="m">8001</span><span class="w">
</span><span class="w">    </span>servlet<span class="p">:</span><span class="w">
</span><span class="w">      </span>context-path<span class="p">:</span><span class="w"> </span>/<span class="w">
</span><span class="w"></span>springfox<span class="p">:</span><span class="w">
</span><span class="w">  </span>documentation<span class="p">:</span><span class="w">
</span><span class="w">    </span>swagger<span class="p">:</span><span class="w">
</span><span class="w">      </span>v2<span class="p">:</span><span class="w">
</span><span class="w">        </span>path<span class="p">:</span><span class="w"> </span><span class="s2">&#34;/api-docs&#34;</span></code></pre></td></tr></table>
</div>
</div>
<p>For logging, we also want a config: <code>src\main\resources\logback-spring.xml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;springProfile</span> <span class="na">name=</span><span class="s">&#34;!json-output&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;include</span> <span class="na">resource=</span><span class="s">&#34;org/springframework/boot/logging/logback/base.xml&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/springProfile&gt;</span>

    <span class="nt">&lt;springProfile</span> <span class="na">name=</span><span class="s">&#34;json-output&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">&#34;json&#34;</span> <span class="na">class=</span><span class="s">&#34;ch.qos.logback.core.ConsoleAppender&#34;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">&#34;ch.qos.logback.contrib.json.classic.JsonLayout&#34;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;jsonFormatter</span> <span class="na">class=</span><span class="s">&#34;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&#34;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;prettyPrint&gt;</span>false<span class="nt">&lt;/prettyPrint&gt;</span>
                <span class="nt">&lt;/jsonFormatter&gt;</span>
                <span class="nt">&lt;timestampFormat&gt;</span>yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS<span class="nt">&lt;/timestampFormat&gt;</span>
            <span class="nt">&lt;/layout&gt;</span>
        <span class="nt">&lt;/appender&gt;</span>

        <span class="nt">&lt;root</span> <span class="na">level=</span><span class="s">&#34;all&#34;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">&#34;json&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/root&gt;</span>
    <span class="nt">&lt;/springProfile&gt;</span>
<span class="nt">&lt;/configuration&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>That's it for config, now moving on to the actual code itself. Thankfully Spring Boot helps remove lots of boilerplate. Also there is very little business logic in this codebase, which should keep things easy to understand.</p>

<h2 id="model">Model&nbsp;<a class="anchor" href="#model"><i class="small linkify icon"></i></a> </h2>

<p>Models in this code is pretty straight forward. We'll use one model to represent the entries in the database, and one model to represent the values we'll receive from the geo-location API we'll be talking to.</p>

<p><code>src\main\java\org\controlaltdel\sample\model\IpLookupResponse.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.model</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.AllArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Builder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.NoArgsConstructor</span><span class="o">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IpLookupResponse</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="n">String</span> <span class="n">countryCode</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">countryCode3</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">countryName</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">countryEmoji</span><span class="o">;</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p><code>src\main\java\org\controlaltdel\sample\model\Visitor.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.model</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.AllArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Builder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.NoArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.NonNull</span><span class="o">;</span>

<span class="nd">@Data</span>
<span class="nd">@Builder</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Visitor</span> <span class="o">{</span>

  <span class="nd">@NonNull</span>
  <span class="kd">private</span> <span class="n">Integer</span> <span class="n">id</span><span class="o">;</span>
  <span class="nd">@NonNull</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">ip</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">countryCode</span><span class="o">;</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="database">Database&nbsp;<a class="anchor" href="#database"><i class="small linkify icon"></i></a> </h2>

<p>To talk to the database, we'll also keep things super simple and use JdbcTemplate. We'll have one repository that deals with IP mapping related things, and one that deals with adding entries and viewing them.</p>

<p><code>src\main\java\org\controlaltdel\sample\repository\VisitorRepository.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.model.Visitor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.jdbc.core.BeanPropertyRowMapper</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.jdbc.core.JdbcTemplate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VisitorRepository</span> <span class="o">{</span>

  <span class="cm">/**
</span><span class="cm">   * Query to retrieve all visitors.
</span><span class="cm">   */</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">LIST_VISITORS_SQL</span> <span class="o">=</span> <span class="s">&#34;SELECT * FROM tblVisitors&#34;</span><span class="o">;</span>

  <span class="cm">/**
</span><span class="cm">   * Query to add a visitor.
</span><span class="cm">   */</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">INSERT_SQL</span> <span class="o">=</span> <span class="s">&#34;INSERT INTO tblVisitors VALUES(NULL,?,NULL)&#34;</span><span class="o">;</span>

  <span class="kd">private</span> <span class="n">JdbcTemplate</span> <span class="n">mysqlJdbcTemplate</span><span class="o">;</span>

  <span class="nd">@Autowired</span>
  <span class="kd">public</span> <span class="nf">VisitorRepository</span><span class="o">(</span><span class="kd">final</span> <span class="n">JdbcTemplate</span> <span class="n">mysqlJdbcTemplate</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">mysqlJdbcTemplate</span> <span class="o">=</span> <span class="n">mysqlJdbcTemplate</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Retrieves all visitors.
</span><span class="cm">   *
</span><span class="cm">   * @return A list of visitors.
</span><span class="cm">   */</span>
  <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Visitor</span><span class="o">&gt;</span> <span class="nf">listVisitors</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">mysqlJdbcTemplate</span>
        <span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">LIST_VISITORS_SQL</span><span class="o">,</span> <span class="k">new</span> <span class="n">BeanPropertyRowMapper</span><span class="o">(</span><span class="n">Visitor</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Updates the country code for a given IP address.
</span><span class="cm">   *
</span><span class="cm">   * @param ip An IP address, as a string.
</span><span class="cm">   */</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addVisitor</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">ip</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">mysqlJdbcTemplate</span><span class="o">.</span><span class="na">update</span><span class="o">(</span>
        <span class="n">INSERT_SQL</span><span class="o">,</span>
        <span class="n">ip</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p><code>src\main\java\org\controlaltdel\sample\repository\IpRepository.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.repository</span><span class="o">;</span>


<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.jdbc.core.JdbcTemplate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IpRepository</span> <span class="o">{</span>

  <span class="cm">/**
</span><span class="cm">   * Query to retrieve all unmapped IP addresses.
</span><span class="cm">   */</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">GRAB_UNMAPPED_IPS</span> <span class="o">=</span>
      <span class="s">&#34;SELECT ip FROM tblVisitors WHERE countryCode IS NULL&#34;</span><span class="o">;</span>

  <span class="cm">/**
</span><span class="cm">   * Query to update a IP&#39;s information.
</span><span class="cm">   */</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">UPDATE_SQL</span> <span class="o">=</span> <span class="s">&#34;UPDATE tblVisitors SET countryCode = ? WHERE ip = ?&#34;</span><span class="o">;</span>

  <span class="kd">private</span> <span class="n">JdbcTemplate</span> <span class="n">mysqlJdbcTemplate</span><span class="o">;</span>

  <span class="nd">@Autowired</span>
  <span class="kd">public</span> <span class="nf">IpRepository</span><span class="o">(</span><span class="kd">final</span> <span class="n">JdbcTemplate</span> <span class="n">mysqlJdbcTemplate</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">mysqlJdbcTemplate</span> <span class="o">=</span> <span class="n">mysqlJdbcTemplate</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Retrieves all ips that don&#39;t have country mapping.
</span><span class="cm">   *
</span><span class="cm">   * @return A list of ips.
</span><span class="cm">   */</span>
  <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">listUnmappedIps</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">mysqlJdbcTemplate</span><span class="o">.</span><span class="na">queryForList</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">GRAB_UNMAPPED_IPS</span><span class="o">),</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Updates the country code for a given IP address.
</span><span class="cm">   *
</span><span class="cm">   * @param ip          An IP address, as a string.
</span><span class="cm">   * @param countryCode The country code.
</span><span class="cm">   */</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateIp</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">ip</span><span class="o">,</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">countryCode</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">mysqlJdbcTemplate</span><span class="o">.</span><span class="na">update</span><span class="o">(</span>
        <span class="n">UPDATE_SQL</span><span class="o">,</span>
        <span class="n">countryCode</span><span class="o">,</span>
        <span class="n">ip</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="app-boilerplate">App boilerplate&nbsp;<a class="anchor" href="#app-boilerplate"><i class="small linkify icon"></i></a> </h2>

<p>Nothing fancy here, just a regular Spring Boot App. Note that we do add the <code>@EnableScheduling</code> annotation, which will allow us to schedule tasks to run at regular/specific intervals. We'll need that later on for our daily task run.</p>

<p><code>src\main\java\org\controlaltdel\sample\Application.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.boot.SpringApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.SpringBootApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.scheduling.annotation.EnableScheduling</span><span class="o">;</span>

<span class="nd">@SpringBootApplication</span>
<span class="nd">@EnableScheduling</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Application</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">Application</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="web-security-configuration">Web Security Configuration&nbsp;<a class="anchor" href="#web-security-configuration"><i class="small linkify icon"></i></a> </h2>

<p>Here we'll extend <code>WebSecurityConfigurerAdapter</code> and override the <code>configure</code> method to produce the configuration which will all unfettered access some paths, and require an OAuth2 login for everything else.</p>

<p>We'll configure CSRF to add a token to a cookie returned to the browser. Our front-end app will have to pass that back in an HTTP header in order for the backend to accept the requests. This will mitigate CSRF attacks.</p>

<p>For the purpose of brevity, we're going to disable CORS, although that's probably something you would want to configure for a real non-trivial service.</p>

<p><code>src\main\java\org\controlaltdel\sample\configuration\SecurityConfiguration.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.configuration</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Configuration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.config.annotation.web.builders.HttpSecurity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter</span><span class="o">;</span>

<span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SecurityConfiguration</span> <span class="kd">extends</span> <span class="n">WebSecurityConfigurerAdapter</span> <span class="o">{</span>

  <span class="nd">@Override</span>
  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="kd">final</span> <span class="n">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="n">http</span><span class="o">.</span><span class="na">csrf</span><span class="o">().</span><span class="na">csrfTokenRepository</span><span class="o">(</span><span class="n">CookieCsrfTokenRepository</span><span class="o">.</span><span class="na">withHttpOnlyFalse</span><span class="o">());</span>
    <span class="n">http</span><span class="o">.</span><span class="na">cors</span><span class="o">().</span><span class="na">disable</span><span class="o">();</span>
    <span class="n">http</span>
        <span class="o">.</span><span class="na">antMatcher</span><span class="o">(</span><span class="s">&#34;/**&#34;</span><span class="o">)</span>
        <span class="o">.</span><span class="na">authorizeRequests</span><span class="o">()</span>
        <span class="o">.</span><span class="na">antMatchers</span><span class="o">(</span><span class="s">&#34;/login**&#34;</span><span class="o">,</span> <span class="s">&#34;/webjars/**&#34;</span><span class="o">,</span> <span class="s">&#34;/error**&#34;</span><span class="o">,</span> <span class="s">&#34;/actuator/**&#34;</span><span class="o">)</span>
        <span class="o">.</span><span class="na">permitAll</span><span class="o">()</span>
        <span class="o">.</span><span class="na">anyRequest</span><span class="o">()</span>
        <span class="o">.</span><span class="na">authenticated</span><span class="o">().</span><span class="na">and</span><span class="o">()</span>
        <span class="o">.</span><span class="na">oauth2Login</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="automatically-documenting-our-apis">Automatically documenting our APIs&nbsp;<a class="anchor" href="#automatically-documenting-our-apis"><i class="small linkify icon"></i></a> </h2>

<p>To automatically generate API documentation for our APIs, let's setup Swagger.</p>

<p><code>src\main\java\org\controlaltdel\sample\configuration\SwaggerConfiguration.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.configuration</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Bean</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Configuration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springfox.documentation.builders.PathSelectors</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springfox.documentation.builders.RequestHandlerSelectors</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springfox.documentation.spi.DocumentationType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springfox.documentation.spring.web.plugins.Docket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springfox.documentation.swagger2.annotations.EnableSwagger2</span><span class="o">;</span>

<span class="nd">@Configuration</span>
<span class="nd">@EnableSwagger2</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SwaggerConfiguration</span> <span class="o">{</span>

  <span class="cm">/**
</span><span class="cm">   * Docket.
</span><span class="cm">   *
</span><span class="cm">   * @return A docket.
</span><span class="cm">   */</span>
  <span class="nd">@Bean</span>
  <span class="kd">public</span> <span class="n">Docket</span> <span class="nf">docket</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">Docket</span><span class="o">(</span><span class="n">DocumentationType</span><span class="o">.</span><span class="na">SWAGGER_2</span><span class="o">)</span>
        <span class="o">.</span><span class="na">select</span><span class="o">()</span>
        <span class="o">.</span><span class="na">apis</span><span class="o">(</span><span class="n">RequestHandlerSelectors</span><span class="o">.</span><span class="na">basePackage</span><span class="o">(</span><span class="s">&#34;org.controlaltdel.sample.controllers.api&#34;</span><span class="o">))</span>
        <span class="o">.</span><span class="na">paths</span><span class="o">(</span><span class="n">PathSelectors</span><span class="o">.</span><span class="na">any</span><span class="o">())</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>Once our service is running, this will expose an HTTP endpoint that will display the API documentation. (<a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a>)</p>

<p><img src="/images/swagger.jpg" alt="null" /></p>

<p><img src="/images/swagger-1.jpg" alt="null" /></p>

<h2 id="services">Services&nbsp;<a class="anchor" href="#services"><i class="small linkify icon"></i></a> </h2>

<p>Our back-end code does two types of operations which we'll be building out API endpoints for. We'll define those in services, which we'll expose using the web controllers.</p>

<p>The first one, allows us to perform lookups on a public ip2country API (<a href="https://api.ip2country.info">https://api.ip2country.info</a>)</p>

<p><code>org\controlaltdel\sample\service\IpLookupService.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.model.IpLookupResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.Logger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.LoggerFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.client.RestClientException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.client.RestTemplate</span><span class="o">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IpLookupService</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">log</span> <span class="o">=</span> <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">IpLookupService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">API_URL</span> <span class="o">=</span> <span class="s">&#34;https://api.ip2country.info/ip?%s&#34;</span><span class="o">;</span>

  <span class="cm">/**
</span><span class="cm">   * Query the IP2Country API.
</span><span class="cm">   *
</span><span class="cm">   * @param ip The IP address to lookup.
</span><span class="cm">   * @return A string that represents the country code, or null.
</span><span class="cm">   */</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">lookupIp</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">ip</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">countryCode</span> <span class="o">=</span> <span class="s">&#34;unknown&#34;</span><span class="o">;</span>
    <span class="n">RestTemplate</span> <span class="n">restTemplate</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RestTemplate</span><span class="o">();</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">IpLookupResponse</span> <span class="n">res</span> <span class="o">=</span> <span class="n">restTemplate</span>
          <span class="o">.</span><span class="na">getForObject</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">API_URL</span><span class="o">,</span> <span class="n">ip</span><span class="o">),</span> <span class="n">IpLookupResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">res</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">countryCode</span> <span class="o">=</span> <span class="n">Optional</span><span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">res</span><span class="o">.</span><span class="na">getCountryCode</span><span class="o">()).</span><span class="na">orElse</span><span class="o">(</span><span class="s">&#34;unknown&#34;</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">RestClientException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">log</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">countryCode</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>Our second service is concerned with updating all the unmapped IP addresses in our database. One thing to note here is that we are creating a thread pool and parallelizing the API calls. We use the <code>com.pivovarit.collectors.ParallelCollectors</code> library which greatly simplifies the logic in handling the Futures.</p>

<p><code>src\main\java\org\controlaltdel\sample\service\IpUpdateService.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.service</span><span class="o">;</span>

<span class="kn">import static</span> <span class="nn">com.pivovarit.collectors.ParallelCollectors.parallelToMap</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.concurrent.ExecutorService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.Executors</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.repository.IpRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.Logger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.LoggerFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IpUpdateService</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">log</span> <span class="o">=</span> <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">IpUpdateService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Integer</span> <span class="n">PARALLEL_REQUESTS</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>

  <span class="kd">private</span> <span class="n">IpRepository</span> <span class="n">ipRepository</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">IpLookupService</span> <span class="n">ipLookupService</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">ExecutorService</span> <span class="n">executor</span><span class="o">;</span>

  <span class="cm">/**
</span><span class="cm">   * Constructor.
</span><span class="cm">   * @param ipRepository The IP repository.
</span><span class="cm">   * @param ipLookupService The IP lookup service.
</span><span class="cm">   */</span>
  <span class="nd">@Autowired</span>
  <span class="kd">public</span> <span class="nf">IpUpdateService</span><span class="o">(</span>
      <span class="kd">final</span> <span class="n">IpRepository</span> <span class="n">ipRepository</span><span class="o">,</span>
      <span class="kd">final</span> <span class="n">IpLookupService</span> <span class="n">ipLookupService</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipRepository</span> <span class="o">=</span> <span class="n">ipRepository</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipLookupService</span> <span class="o">=</span> <span class="n">ipLookupService</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">executor</span> <span class="o">=</span> <span class="n">Executors</span><span class="o">.</span><span class="na">newFixedThreadPool</span><span class="o">(</span><span class="n">PARALLEL_REQUESTS</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Updates all country codes that aren&#39;t set.
</span><span class="cm">   */</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateIps</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">log</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">&#34;Updating all ips&#34;</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipRepository</span>
        <span class="o">.</span><span class="na">listUnmappedIps</span><span class="o">()</span>
        <span class="o">.</span><span class="na">stream</span><span class="o">()</span>
        <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">parallelToMap</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">,</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="k">this</span><span class="o">.</span><span class="na">ipLookupService</span><span class="o">.</span><span class="na">lookupIp</span><span class="o">(</span><span class="n">i</span><span class="o">),</span> <span class="k">this</span><span class="o">.</span><span class="na">executor</span><span class="o">,</span>
            <span class="n">PARALLEL_REQUESTS</span><span class="o">))</span>
        <span class="o">.</span><span class="na">join</span><span class="o">()</span>
        <span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="n">ip</span><span class="o">,</span> <span class="n">countryCode</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
          <span class="k">if</span> <span class="o">(!</span><span class="s">&#34;unknown&#34;</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">countryCode</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">ipRepository</span><span class="o">.</span><span class="na">updateIp</span><span class="o">(</span><span class="n">ip</span><span class="o">,</span> <span class="n">countryCode</span><span class="o">);</span>
          <span class="o">}</span>
        <span class="o">});</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>Here we can see 10 parallel requests being launched simultaneously:</p>

<p><img src="/images/parallel-requests.jpg" alt="null" /></p>

<h2 id="web-controllers">Web Controllers&nbsp;<a class="anchor" href="#web-controllers"><i class="small linkify icon"></i></a> </h2>

<p>We're going to create three web controllers. The first one is the controller that will handle redirecting URL paths to our single-page web app. This will allow folks to do browser refreshes and not get a 404.</p>

<p><code>org\controlaltdel\sample\controllers\RedirectController.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.controllers</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="o">;</span>

<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RedirectController</span> <span class="o">{</span>

  <span class="nd">@GetMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="o">{</span><span class="s">&#34;/{regex:\\w+}&#34;</span><span class="o">,</span> <span class="s">&#34;/**/{regex:\\w+}&#34;</span><span class="o">})</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">forward404</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">&#34;forward:/&#34;</span><span class="o">;</span>
  <span class="o">}</span>

<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>The next two web controllers we'll need are the API controllers.</p>

<p>The IP lookup controller can list all unmapped IPs, perform a realtime IP geo-location lookup, and trigger a mass-update to lookup all unmapped IPs.</p>

<p><code>src\main\java\org\controlaltdel\sample\controllers\api\v1\IpLookupController.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.controllers.api.v1</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.repository.IpRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.service.IpLookupService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.service.IpUpdateService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PathVariable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMethod</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ResponseBody</span><span class="o">;</span>

<span class="nd">@Controller</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&#34;/api/v1&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IpLookupController</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">final</span> <span class="n">IpUpdateService</span> <span class="n">ipUpdateService</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">IpLookupService</span> <span class="n">ipLookupService</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">IpRepository</span> <span class="n">ipRepository</span><span class="o">;</span>

  <span class="cm">/**
</span><span class="cm">   * Constructor.
</span><span class="cm">   * @param ipRepository The IP Repository.
</span><span class="cm">   * @param ipUpdateService The update service.
</span><span class="cm">   * @param ipLookupService The IP lookup service.
</span><span class="cm">   */</span>
  <span class="nd">@Autowired</span>
  <span class="kd">public</span> <span class="nf">IpLookupController</span><span class="o">(</span><span class="kd">final</span> <span class="n">IpRepository</span> <span class="n">ipRepository</span><span class="o">,</span>
      <span class="kd">final</span> <span class="n">IpUpdateService</span> <span class="n">ipUpdateService</span><span class="o">,</span>
      <span class="kd">final</span> <span class="n">IpLookupService</span> <span class="n">ipLookupService</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipUpdateService</span> <span class="o">=</span> <span class="n">ipUpdateService</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipLookupService</span> <span class="o">=</span> <span class="n">ipLookupService</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipRepository</span> <span class="o">=</span> <span class="n">ipRepository</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Retrieves all unmapped IPs.
</span><span class="cm">   *
</span><span class="cm">   * @return A list of ips as strings.
</span><span class="cm">   * @throws IOException IO exception.
</span><span class="cm">   */</span>
  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&#34;ips&#34;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
  <span class="nd">@ResponseBody</span>
  <span class="kd">public</span> <span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="nf">listIps</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;(</span><span class="k">this</span><span class="o">.</span><span class="na">ipRepository</span><span class="o">.</span><span class="na">listUnmappedIps</span><span class="o">(),</span> <span class="n">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Fetches country code for a given IP.
</span><span class="cm">   *
</span><span class="cm">   * @param ip The ip.
</span><span class="cm">   * @return A string containing country code.
</span><span class="cm">   */</span>
  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&#34;lookup/{ip}&#34;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
  <span class="nd">@ResponseBody</span>
  <span class="kd">public</span> <span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">lookupIp</span><span class="o">(</span><span class="kd">final</span> <span class="nd">@PathVariable</span><span class="o">(</span><span class="s">&#34;ip&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">ip</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;(</span><span class="k">this</span><span class="o">.</span><span class="na">ipLookupService</span><span class="o">.</span><span class="na">lookupIp</span><span class="o">(</span><span class="n">ip</span><span class="o">),</span> <span class="n">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Updates all ips that are unmapped.
</span><span class="cm">   *
</span><span class="cm">   * @return HTTP status code accepted.
</span><span class="cm">   */</span>
  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&#34;update&#34;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
  <span class="nd">@ResponseBody</span>
  <span class="kd">public</span> <span class="n">ResponseEntity</span> <span class="nf">updateAllIps</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipUpdateService</span><span class="o">.</span><span class="na">updateIps</span><span class="o">();</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="n">HttpStatus</span><span class="o">.</span><span class="na">ACCEPTED</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>The Visitor controller allows us to add new visitors to our database and list all the visitor ips and country codes.</p>

<p><code>src\main\java\org\controlaltdel\sample\controllers\api\v1\VisitorController.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.controllers.api.v1</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.model.Visitor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.repository.VisitorRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PathVariable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMethod</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ResponseBody</span><span class="o">;</span>

<span class="nd">@Controller</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&#34;/api/v1&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VisitorController</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">VisitorRepository</span> <span class="n">visitorRepository</span><span class="o">;</span>

  <span class="nd">@Autowired</span>
  <span class="kd">public</span> <span class="nf">VisitorController</span><span class="o">(</span><span class="kd">final</span> <span class="n">VisitorRepository</span> <span class="n">visitorRepository</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">visitorRepository</span> <span class="o">=</span> <span class="n">visitorRepository</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Retrieves all visitors.
</span><span class="cm">   * @return The list of visitors
</span><span class="cm">   */</span>
  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&#34;visitor&#34;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
  <span class="nd">@ResponseBody</span>
  <span class="kd">public</span> <span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Visitor</span><span class="o">&gt;&gt;</span> <span class="nf">listVisitors</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Visitor</span><span class="o">&gt;&gt;(</span><span class="k">this</span><span class="o">.</span><span class="na">visitorRepository</span><span class="o">.</span><span class="na">listVisitors</span><span class="o">(),</span> <span class="n">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Add a visitor.
</span><span class="cm">   * @param ip An IP.
</span><span class="cm">   * @return An HTTP status code.
</span><span class="cm">   */</span>
  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&#34;visitor/{ip}&#34;</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="n">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
  <span class="nd">@ResponseBody</span>
  <span class="kd">public</span> <span class="n">ResponseEntity</span> <span class="nf">addVisitor</span><span class="o">(</span><span class="kd">final</span> <span class="nd">@PathVariable</span><span class="o">(</span><span class="s">&#34;ip&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">ip</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">visitorRepository</span><span class="o">.</span><span class="na">addVisitor</span><span class="o">(</span><span class="n">ip</span><span class="o">);</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="n">HttpStatus</span><span class="o">.</span><span class="na">ACCEPTED</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="scheduled-task">Scheduled task&nbsp;<a class="anchor" href="#scheduled-task"><i class="small linkify icon"></i></a> </h2>

<p>The last part of our back-end is the daily scheduled task. With the built-in scheduler that we added with the <code>@EnableScheduler</code> annotation on our Spring Boot Application, we can add a <code>@Scheduled</code> annotation with a cron expression to invoke a function on a regular interval.</p>

<p><code>src\main\java\org\controlaltdel\sample\task\DailyIpCountryUpdate.java</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">org.controlaltdel.sample.task</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.controlaltdel.sample.service.IpUpdateService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.Logger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.LoggerFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.scheduling.annotation.Scheduled</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DailyIpCountryUpdate</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">log</span> <span class="o">=</span> <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">DailyIpCountryUpdate</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">IpUpdateService</span> <span class="n">ipUpdateService</span><span class="o">;</span>

  <span class="nd">@Autowired</span>
  <span class="kd">public</span> <span class="nf">DailyIpCountryUpdate</span><span class="o">(</span><span class="kd">final</span> <span class="n">IpUpdateService</span> <span class="n">ipUpdateService</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipUpdateService</span> <span class="o">=</span> <span class="n">ipUpdateService</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * Scheduled task to update all ips that are unmapped. second, minute, hour, day of month, month,
</span><span class="cm">   * day(s) of week
</span><span class="cm">   */</span>
  <span class="nd">@Scheduled</span><span class="o">(</span><span class="n">cron</span> <span class="o">=</span> <span class="s">&#34;0 0 2 * * ?&#34;</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateAllIps</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&#34;Running daily number update&#34;</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">ipUpdateService</span><span class="o">.</span><span class="na">updateIps</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<h1 id="frontend">Frontend&nbsp;<a class="anchor" href="#frontend"><i class="small linkify icon"></i></a> </h1>

<p>We're going to assume that we've got a modern tool chain ready to go.</p>

<p>To create our front-end, we'll use</p>

<pre><code>npx create-react-app frontend
</code></pre>

<p>Which will initialize an empty React app in our <code>frontend/</code> folder.</p>

<p>To keep this already long write-up a bit shorter, I'll omit some of the front-end files which are boilerplate.</p>

<h2 id="setup">Setup&nbsp;<a class="anchor" href="#setup"><i class="small linkify icon"></i></a> </h2>

<p>Nothing fancy here, just a few dependencies and a proxy setting that will allow us to keep our URI paths relative in the code.</p>

<p><code>frontend\package.json</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;frontend&#34;</span><span class="p">,</span>
  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;0.1.0&#34;</span><span class="p">,</span>
  <span class="nt">&#34;private&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;@material-ui/core&#34;</span><span class="p">:</span> <span class="s2">&#34;^4.9.0&#34;</span><span class="p">,</span>
    <span class="nt">&#34;@material-ui/icons&#34;</span><span class="p">:</span> <span class="s2">&#34;^4.5.1&#34;</span><span class="p">,</span>
    <span class="nt">&#34;@testing-library/jest-dom&#34;</span><span class="p">:</span> <span class="s2">&#34;^4.2.4&#34;</span><span class="p">,</span>
    <span class="nt">&#34;@testing-library/react&#34;</span><span class="p">:</span> <span class="s2">&#34;^9.3.2&#34;</span><span class="p">,</span>
    <span class="nt">&#34;@testing-library/user-event&#34;</span><span class="p">:</span> <span class="s2">&#34;^7.1.2&#34;</span><span class="p">,</span>
    <span class="nt">&#34;react&#34;</span><span class="p">:</span> <span class="s2">&#34;^16.13.1&#34;</span><span class="p">,</span>
    <span class="nt">&#34;react-dom&#34;</span><span class="p">:</span> <span class="s2">&#34;^16.13.1&#34;</span><span class="p">,</span>
    <span class="nt">&#34;react-router&#34;</span><span class="p">:</span> <span class="s2">&#34;^5.1.2&#34;</span><span class="p">,</span>
    <span class="nt">&#34;react-router-dom&#34;</span><span class="p">:</span> <span class="s2">&#34;^5.1.2&#34;</span><span class="p">,</span>
    <span class="nt">&#34;react-scripts&#34;</span><span class="p">:</span> <span class="s2">&#34;3.4.1&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;proxy&#34;</span><span class="p">:</span> <span class="s2">&#34;http://localhost:8080&#34;</span><span class="p">,</span>
  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;start&#34;</span><span class="p">:</span> <span class="s2">&#34;react-scripts start&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;react-scripts build&#34;</span><span class="p">,</span>
    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;react-scripts test&#34;</span><span class="p">,</span>
    <span class="nt">&#34;eject&#34;</span><span class="p">:</span> <span class="s2">&#34;react-scripts eject&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;eslintConfig&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;extends&#34;</span><span class="p">:</span> <span class="s2">&#34;react-app&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;browserslist&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;production&#34;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&#34;&gt;0.2%&#34;</span><span class="p">,</span>
      <span class="s2">&#34;not dead&#34;</span><span class="p">,</span>
      <span class="s2">&#34;not op_mini all&#34;</span>
    <span class="p">],</span>
    <span class="nt">&#34;development&#34;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&#34;last 1 chrome version&#34;</span><span class="p">,</span>
      <span class="s2">&#34;last 1 firefox version&#34;</span><span class="p">,</span>
      <span class="s2">&#34;last 1 safari version&#34;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="code">Code&nbsp;<a class="anchor" href="#code"><i class="small linkify icon"></i></a> </h2>

<p>There are three files in this little app.</p>

<p><code>frontend\src\App.js</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="k">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">BrowserRouter</span> <span class="nx">as</span> <span class="nx">Router</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;react-router-dom&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">AddVisitor</span> <span class="nx">from</span> <span class="s2">&#34;./Components/AddVisitor&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ListVisitors</span> <span class="nx">from</span> <span class="s2">&#34;./Components/ListVisitors&#34;</span><span class="p">;</span>

<span class="k">import</span> <span class="s1">&#39;./App.css&#39;</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Router</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s2">&#34;/&#34;</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">AddVisitor</span><span class="p">}</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s2">&#34;/visitors&#34;</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">ListVisitors</span><span class="p">}</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/Router&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<p><code>frontend\src\Components\AddVisitor.js</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="k">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">TextField</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/TextField&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Button</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/Button&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Link</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;react-router-dom&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Typography</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/Typography&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Cookies</span> <span class="nx">from</span> <span class="s1">&#39;js-cookie&#39;</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">AddVisitor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">const</span> <span class="p">[</span><span class="nx">ip</span><span class="p">,</span> <span class="nx">setIp</span><span class="p">]</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">);</span>
    <span class="k">const</span> <span class="nx">handleIpChange</span> <span class="o">=</span> <span class="nx">event</span> <span class="p">=&gt;</span> <span class="nx">setIp</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>

    <span class="kr">async</span> <span class="kd">function</span> <span class="nx">sendRequest</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span>
            <span class="sb">`/api/v1/visitor/</span><span class="si">${</span><span class="nx">ip</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> 
            <span class="p">{</span>
                <span class="nx">method</span><span class="o">:</span> <span class="s2">&#34;POST&#34;</span><span class="p">,</span> 
                <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
                    <span class="s1">&#39;X-XSRF-TOKEN&#39;</span><span class="o">:</span>  <span class="nx">Cookies</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;XSRF-TOKEN&#39;</span><span class="p">),</span>
                <span class="p">},</span>
                <span class="nx">credentials</span><span class="o">:</span> <span class="s2">&#34;include&#34;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">);</span>
        <span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">status</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">const</span> <span class="nx">handleSubmit</span> <span class="o">=</span> <span class="nx">ip</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">sendRequest</span><span class="p">(</span><span class="nx">ip</span><span class="p">);</span>
        <span class="nx">setIp</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;&gt;</span>
        <span class="o">&lt;</span><span class="nx">TextField</span>
                <span class="nx">id</span><span class="o">=</span><span class="s2">&#34;ip&#34;</span>
                <span class="nx">label</span><span class="o">=</span><span class="s2">&#34;ip&#34;</span>
                <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;string&#34;</span>
                <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleIpChange</span><span class="p">}</span>
              <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">preventDefault</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="nx">Save</span>
        <span class="o">&lt;</span><span class="err">/Button&gt;</span>
        <span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/visitors&#34;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">Typography</span> <span class="nx">align</span><span class="o">=</span><span class="s2">&#34;left&#34;</span><span class="o">&gt;</span>
            <span class="nx">List</span> <span class="nx">visitors</span>
            <span class="o">&lt;</span><span class="err">/Typography&gt;{&#34; &#34;}</span>
        <span class="o">&lt;</span><span class="err">/Link&gt;</span>
        <span class="o">&lt;</span><span class="err">/&gt;</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<p><code>frontend\src\Components\ListVisitors.js</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="k">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">makeStyles</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/styles&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Table</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/Table&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">TableBody</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/TableBody&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">TableCell</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/TableCell&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">TableContainer</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/TableContainer&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">TableHead</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/TableHead&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">TableRow</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/TableRow&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Paper</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/Paper&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Typography</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/Typography&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">CircularProgress</span> <span class="nx">from</span> <span class="s2">&#34;@material-ui/core/CircularProgress&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Link</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;react-router-dom&#34;</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Cookies</span> <span class="nx">from</span> <span class="s1">&#39;js-cookie&#39;</span><span class="p">;</span>

<span class="k">const</span> <span class="nx">useStyles</span> <span class="o">=</span> <span class="nx">makeStyles</span><span class="p">(</span><span class="nx">theme</span> <span class="p">=&gt;</span> <span class="p">({</span>
  <span class="nx">table</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">minWidth</span><span class="o">:</span> <span class="mi">600</span>
  <span class="p">},</span>
  <span class="nx">paper</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">display</span><span class="o">:</span> <span class="s2">&#34;flex&#34;</span><span class="p">,</span>
    <span class="nx">flexDirection</span><span class="o">:</span> <span class="s2">&#34;column&#34;</span><span class="p">,</span>
    <span class="nx">justifyContent</span><span class="o">:</span> <span class="s2">&#34;center&#34;</span><span class="p">,</span>
    <span class="nx">alignItems</span><span class="o">:</span> <span class="s2">&#34;center&#34;</span><span class="p">,</span>
    <span class="nx">margin</span><span class="o">:</span> <span class="sb">`10px`</span><span class="p">,</span>
    <span class="nx">height</span><span class="o">:</span> <span class="s2">&#34;100%&#34;</span><span class="p">,</span>
    <span class="nx">width</span><span class="o">:</span> <span class="s2">&#34;99%&#34;</span><span class="p">,</span>
    <span class="nx">marginTop</span><span class="o">:</span> <span class="nx">theme</span><span class="p">.</span><span class="nx">spacing</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}));</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">SimpleTable</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">const</span> <span class="nx">classes</span> <span class="o">=</span> <span class="nx">useStyles</span><span class="p">();</span>

  <span class="k">const</span> <span class="p">[</span><span class="nx">data</span><span class="p">,</span> <span class="nx">updateData</span><span class="p">]</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">([]);</span>
  <span class="k">const</span> <span class="p">[</span><span class="nx">firstLoad</span><span class="p">,</span> <span class="nx">setLoad</span><span class="p">]</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">useState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="kr">async</span> <span class="kd">function</span> <span class="nx">listVisitors</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span>
      <span class="s2">&#34;/api/v1/visitor&#34;</span><span class="p">,</span>
      <span class="p">{</span>
        <span class="nx">method</span><span class="o">:</span> <span class="s2">&#34;GET&#34;</span><span class="p">,</span> 
        <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
            <span class="s1">&#39;X-XSRF-TOKEN&#39;</span><span class="o">:</span>  <span class="nx">Cookies</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;XSRF-TOKEN&#39;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="nx">credentials</span><span class="o">:</span> <span class="s2">&#34;include&#34;</span><span class="p">,</span>
    <span class="p">}</span>
      <span class="p">);</span>
    <span class="kd">let</span> <span class="nx">body</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="nx">updateData</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">firstLoad</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">listVisitors</span><span class="p">();</span>
    <span class="nx">setLoad</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">classes</span><span class="p">.</span><span class="nx">paper</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Typography</span> <span class="nx">component</span><span class="o">=</span><span class="s2">&#34;h1&#34;</span> <span class="nx">variant</span><span class="o">=</span><span class="s2">&#34;h5&#34;</span><span class="o">&gt;</span>
        <span class="nx">Visitor</span> <span class="nx">List</span>
      <span class="o">&lt;</span><span class="err">/Typography&gt;</span>

      <span class="p">{</span><span class="nx">isLoading</span> <span class="o">?</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">CircularProgress</span> <span class="o">/&gt;</span>
      <span class="p">)</span> <span class="o">:</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">TableContainer</span>
          <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="nx">width</span><span class="o">:</span> <span class="s2">&#34;80%&#34;</span><span class="p">,</span> <span class="nx">margin</span><span class="o">:</span> <span class="s2">&#34;0 10px&#34;</span> <span class="p">}}</span>
          <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Paper</span><span class="p">}</span>
        <span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">Table</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">classes</span><span class="p">.</span><span class="nx">table</span><span class="p">}</span> <span class="nx">aria</span><span class="o">-</span><span class="nx">label</span><span class="o">=</span><span class="s2">&#34;simple table&#34;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">TableHead</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">TableRow</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">TableCell</span> <span class="nx">align</span><span class="o">=</span><span class="s2">&#34;center&#34;</span><span class="o">&gt;</span><span class="nx">ID</span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
                <span class="o">&lt;</span><span class="nx">TableCell</span> <span class="nx">align</span><span class="o">=</span><span class="s2">&#34;center&#34;</span><span class="o">&gt;</span><span class="nx">IP</span> <span class="nx">Address</span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
                <span class="o">&lt;</span><span class="nx">TableCell</span> <span class="nx">align</span><span class="o">=</span><span class="s2">&#34;center&#34;</span><span class="o">&gt;</span><span class="nx">Country</span> <span class="nx">Code</span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
              <span class="o">&lt;</span><span class="err">/TableRow&gt;</span>
            <span class="o">&lt;</span><span class="err">/TableHead&gt;</span>
            <span class="o">&lt;</span><span class="nx">TableBody</span><span class="o">&gt;</span>
              <span class="p">{</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">row</span> <span class="p">=&gt;</span> <span class="p">(</span>
                <span class="o">&lt;</span><span class="nx">TableRow</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">row</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="nx">TableCell</span> <span class="nx">align</span><span class="o">=</span><span class="s2">&#34;center&#34;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">row</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
                  <span class="o">&lt;</span><span class="nx">TableCell</span> <span class="nx">align</span><span class="o">=</span><span class="s2">&#34;center&#34;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">row</span><span class="p">.</span><span class="nx">ip</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
                  <span class="o">&lt;</span><span class="nx">TableCell</span> <span class="nx">align</span><span class="o">=</span><span class="s2">&#34;center&#34;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">row</span><span class="p">.</span><span class="nx">countryCode</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/TableCell&gt;</span>
                <span class="o">&lt;</span><span class="err">/TableRow&gt;</span>
              <span class="p">))}</span>
            <span class="o">&lt;</span><span class="err">/TableBody&gt;</span>
          <span class="o">&lt;</span><span class="err">/Table&gt;</span>
        <span class="o">&lt;</span><span class="err">/TableContainer&gt;</span>
      <span class="p">)}</span>
              <span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/&#34;</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="nx">Typography</span> <span class="nx">align</span><span class="o">=</span><span class="s2">&#34;left&#34;</span><span class="o">&gt;</span>
          <span class="o">&amp;</span><span class="err">#</span><span class="nx">x2190</span><span class="p">;</span> <span class="nx">Add</span> <span class="nx">another</span> <span class="nx">visitor</span>
        <span class="o">&lt;</span><span class="err">/Typography&gt;{&#34; &#34;}</span>
        <span class="o">&lt;</span><span class="err">/Link&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<h1 id="oauth2-setup">OAuth2 Setup&nbsp;<a class="anchor" href="#oauth2-setup"><i class="small linkify icon"></i></a> </h1>

<p>My little demo system uses OAuth2 to authenticate users against my domain (control-alt-del.org) which is hosted in Google. Heading on over to <a href="https://console.developers.google.com/">https://console.developers.google.com/</a></p>

<p>You'll need to have 'Google Cloud Platform' enabled in your Google Admin.</p>

<p>You'll need to create an application, then create OAuth2 credentials of type 'Web application'.</p>

<p>For this demo, I listed my <code>Authorized Javascript Origins</code> as:</p>

<ul>
<li><a href="http://localhost:8080">http://localhost:8080</a><br /></li>
<li><a href="http://localhost:3000">http://localhost:3000</a><br />
<br /></li>
</ul>

<p>And my <code>Authorised redirect URI</code> as &quot;<a href="http://localhost:8080/login/oauth2/code/google&quot;">http://localhost:8080/login/oauth2/code/google&quot;</a></p>

<p>For a real deployment, you'd want one set of credentials for local dev that would look like this, and one set for production which would have actual urls.</p>

<h1 id="ide-setup">IDE Setup&nbsp;<a class="anchor" href="#ide-setup"><i class="small linkify icon"></i></a> </h1>

<h2 id="back-end">Back-end&nbsp;<a class="anchor" href="#back-end"><i class="small linkify icon"></i></a> </h2>

<p>I'm using Intellij Idea, with pretty much stock settings. Before starting, I installed OpenJDK 11, and configured Intellij to use that installation.</p>

<p>I did import the google style</p>

<p><code>google_style.xml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span><span class="lnt">373
</span><span class="lnt">374
</span><span class="lnt">375
</span><span class="lnt">376
</span><span class="lnt">377
</span><span class="lnt">378
</span><span class="lnt">379
</span><span class="lnt">380
</span><span class="lnt">381
</span><span class="lnt">382
</span><span class="lnt">383
</span><span class="lnt">384
</span><span class="lnt">385
</span><span class="lnt">386
</span><span class="lnt">387
</span><span class="lnt">388
</span><span class="lnt">389
</span><span class="lnt">390
</span><span class="lnt">391
</span><span class="lnt">392
</span><span class="lnt">393
</span><span class="lnt">394
</span><span class="lnt">395
</span><span class="lnt">396
</span><span class="lnt">397
</span><span class="lnt">398
</span><span class="lnt">399
</span><span class="lnt">400
</span><span class="lnt">401
</span><span class="lnt">402
</span><span class="lnt">403
</span><span class="lnt">404
</span><span class="lnt">405
</span><span class="lnt">406
</span><span class="lnt">407
</span><span class="lnt">408
</span><span class="lnt">409
</span><span class="lnt">410
</span><span class="lnt">411
</span><span class="lnt">412
</span><span class="lnt">413
</span><span class="lnt">414
</span><span class="lnt">415
</span><span class="lnt">416
</span><span class="lnt">417
</span><span class="lnt">418
</span><span class="lnt">419
</span><span class="lnt">420
</span><span class="lnt">421
</span><span class="lnt">422
</span><span class="lnt">423
</span><span class="lnt">424
</span><span class="lnt">425
</span><span class="lnt">426
</span><span class="lnt">427
</span><span class="lnt">428
</span><span class="lnt">429
</span><span class="lnt">430
</span><span class="lnt">431
</span><span class="lnt">432
</span><span class="lnt">433
</span><span class="lnt">434
</span><span class="lnt">435
</span><span class="lnt">436
</span><span class="lnt">437
</span><span class="lnt">438
</span><span class="lnt">439
</span><span class="lnt">440
</span><span class="lnt">441
</span><span class="lnt">442
</span><span class="lnt">443
</span><span class="lnt">444
</span><span class="lnt">445
</span><span class="lnt">446
</span><span class="lnt">447
</span><span class="lnt">448
</span><span class="lnt">449
</span><span class="lnt">450
</span><span class="lnt">451
</span><span class="lnt">452
</span><span class="lnt">453
</span><span class="lnt">454
</span><span class="lnt">455
</span><span class="lnt">456
</span><span class="lnt">457
</span><span class="lnt">458
</span><span class="lnt">459
</span><span class="lnt">460
</span><span class="lnt">461
</span><span class="lnt">462
</span><span class="lnt">463
</span><span class="lnt">464
</span><span class="lnt">465
</span><span class="lnt">466
</span><span class="lnt">467
</span><span class="lnt">468
</span><span class="lnt">469
</span><span class="lnt">470
</span><span class="lnt">471
</span><span class="lnt">472
</span><span class="lnt">473
</span><span class="lnt">474
</span><span class="lnt">475
</span><span class="lnt">476
</span><span class="lnt">477
</span><span class="lnt">478
</span><span class="lnt">479
</span><span class="lnt">480
</span><span class="lnt">481
</span><span class="lnt">482
</span><span class="lnt">483
</span><span class="lnt">484
</span><span class="lnt">485
</span><span class="lnt">486
</span><span class="lnt">487
</span><span class="lnt">488
</span><span class="lnt">489
</span><span class="lnt">490
</span><span class="lnt">491
</span><span class="lnt">492
</span><span class="lnt">493
</span><span class="lnt">494
</span><span class="lnt">495
</span><span class="lnt">496
</span><span class="lnt">497
</span><span class="lnt">498
</span><span class="lnt">499
</span><span class="lnt">500
</span><span class="lnt">501
</span><span class="lnt">502
</span><span class="lnt">503
</span><span class="lnt">504
</span><span class="lnt">505
</span><span class="lnt">506
</span><span class="lnt">507
</span><span class="lnt">508
</span><span class="lnt">509
</span><span class="lnt">510
</span><span class="lnt">511
</span><span class="lnt">512
</span><span class="lnt">513
</span><span class="lnt">514
</span><span class="lnt">515
</span><span class="lnt">516
</span><span class="lnt">517
</span><span class="lnt">518
</span><span class="lnt">519
</span><span class="lnt">520
</span><span class="lnt">521
</span><span class="lnt">522
</span><span class="lnt">523
</span><span class="lnt">524
</span><span class="lnt">525
</span><span class="lnt">526
</span><span class="lnt">527
</span><span class="lnt">528
</span><span class="lnt">529
</span><span class="lnt">530
</span><span class="lnt">531
</span><span class="lnt">532
</span><span class="lnt">533
</span><span class="lnt">534
</span><span class="lnt">535
</span><span class="lnt">536
</span><span class="lnt">537
</span><span class="lnt">538
</span><span class="lnt">539
</span><span class="lnt">540
</span><span class="lnt">541
</span><span class="lnt">542
</span><span class="lnt">543
</span><span class="lnt">544
</span><span class="lnt">545
</span><span class="lnt">546
</span><span class="lnt">547
</span><span class="lnt">548
</span><span class="lnt">549
</span><span class="lnt">550
</span><span class="lnt">551
</span><span class="lnt">552
</span><span class="lnt">553
</span><span class="lnt">554
</span><span class="lnt">555
</span><span class="lnt">556
</span><span class="lnt">557
</span><span class="lnt">558
</span><span class="lnt">559
</span><span class="lnt">560
</span><span class="lnt">561
</span><span class="lnt">562
</span><span class="lnt">563
</span><span class="lnt">564
</span><span class="lnt">565
</span><span class="lnt">566
</span><span class="lnt">567
</span><span class="lnt">568
</span><span class="lnt">569
</span><span class="lnt">570
</span><span class="lnt">571
</span><span class="lnt">572
</span><span class="lnt">573
</span><span class="lnt">574
</span><span class="lnt">575
</span><span class="lnt">576
</span><span class="lnt">577
</span><span class="lnt">578
</span><span class="lnt">579
</span><span class="lnt">580
</span><span class="lnt">581
</span><span class="lnt">582
</span><span class="lnt">583
</span><span class="lnt">584
</span><span class="lnt">585
</span><span class="lnt">586
</span><span class="lnt">587
</span><span class="lnt">588
</span><span class="lnt">589
</span><span class="lnt">590
</span><span class="lnt">591
</span><span class="lnt">592
</span><span class="lnt">593
</span><span class="lnt">594
</span><span class="lnt">595
</span><span class="lnt">596
</span><span class="lnt">597
</span><span class="lnt">598
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class="nt">&lt;code_scheme</span> <span class="na">name=</span><span class="s">&#34;GoogleStyle&#34;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;OTHER_INDENT_OPTIONS&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;USE_TAB_CHARACTER&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;SMART_TABS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;LABEL_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;LABEL_INDENT_ABSOLUTE&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;USE_RELATIVE_INDENTS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/value&gt;</span>
  <span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INSERT_INNER_CLASS_IMPORTS&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CLASS_COUNT_TO_USE_IMPORT_ON_DEMAND&#34;</span> <span class="na">value=</span><span class="s">&#34;999&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;NAMES_COUNT_TO_USE_IMPORT_ON_DEMAND&#34;</span> <span class="na">value=</span><span class="s">&#34;999&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;PACKAGES_TO_USE_IMPORT_ON_DEMAND&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;IMPORT_LAYOUT_TABLE&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;value&gt;</span>
      <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">&#34;&#34;</span> <span class="na">withSubpackages=</span><span class="s">&#34;true&#34;</span> <span class="na">static=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;emptyLine</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">&#34;&#34;</span> <span class="na">withSubpackages=</span><span class="s">&#34;true&#34;</span> <span class="na">static=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/value&gt;</span>
  <span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;RIGHT_MARGIN&#34;</span> <span class="na">value=</span><span class="s">&#34;100&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;JD_ALIGN_PARAM_COMMENTS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;JD_ALIGN_EXCEPTION_COMMENTS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;JD_P_AT_EMPTY_LINES&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;JD_KEEP_EMPTY_PARAMETER&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;JD_KEEP_EMPTY_EXCEPTION&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;JD_KEEP_EMPTY_RETURN&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_CONTROL_STATEMENT_IN_ONE_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_BLANK_LINES_BEFORE_RBRACE&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_BLANK_LINES_IN_CODE&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BLANK_LINES_AFTER_CLASS_HEADER&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_PARAMETERS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_FOR&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CALL_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;METHOD_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;EXTENDS_LIST_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;THROWS_KEYWORD_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;METHOD_CALL_CHAIN_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_SIGN_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TERNARY_OPERATION_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TERNARY_OPERATION_SIGNS_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_STATEMENT_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ARRAY_INITIALIZER_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;WRAP_COMMENTS&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;IF_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;DOWHILE_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;WHILE_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;SPACE_BEFORE_ARRAY_INITIALIZER_LBRACE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;AndroidXmlCodeStyleSettings&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;USE_CUSTOM_SETTINGS&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;LAYOUT_SETTINGS&#34;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;value&gt;</span>
        <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INSERT_BLANK_LINE_BEFORE_TAG&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;/AndroidXmlCodeStyleSettings&gt;</span>
  <span class="nt">&lt;JSCodeStyleSettings&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_CHAINED_CALLS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/JSCodeStyleSettings&gt;</span>
  <span class="nt">&lt;Python&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;USE_CONTINUATION_INDENT_FOR_ARGUMENTS&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/Python&gt;</span>
  <span class="nt">&lt;TypeScriptCodeStyleSettings&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_CHAINED_CALLS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/TypeScriptCodeStyleSettings&gt;</span>
  <span class="nt">&lt;XML&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;XML_ALIGN_ATTRIBUTES&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;XML_LEGACY_SETTINGS_IMPORTED&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/XML&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;CSS&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;ECMA Script Level 4&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_BLANK_LINES_IN_CODE&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_PARAMETERS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_FOR&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CALL_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;METHOD_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;EXTENDS_LIST_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_SIGN_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TERNARY_OPERATION_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TERNARY_OPERATION_SIGNS_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_STATEMENT_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ARRAY_INITIALIZER_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;IF_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;DOWHILE_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;WHILE_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;PARENT_SETTINGS_INSTALLED&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;HTML&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;JAVA&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_CONTROL_STATEMENT_IN_ONE_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_BLANK_LINES_IN_CODE&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BLANK_LINES_AFTER_CLASS_HEADER&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_PARAMETERS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_RESOURCES&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_FOR&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CALL_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;METHOD_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;EXTENDS_LIST_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;THROWS_KEYWORD_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;METHOD_CALL_CHAIN_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_SIGN_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TERNARY_OPERATION_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TERNARY_OPERATION_SIGNS_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_STATEMENT_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ARRAY_INITIALIZER_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;WRAP_COMMENTS&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;IF_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;DOWHILE_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;WHILE_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;PARENT_SETTINGS_INSTALLED&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;JSON&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;JavaScript&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;RIGHT_MARGIN&#34;</span> <span class="na">value=</span><span class="s">&#34;80&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_BLANK_LINES_IN_CODE&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_PARAMETERS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_FOR&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CALL_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;METHOD_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_SIGN_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TERNARY_OPERATION_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TERNARY_OPERATION_SIGNS_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_STATEMENT_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ARRAY_INITIALIZER_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;IF_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;DOWHILE_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;WHILE_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_BRACE_FORCE&#34;</span> <span class="na">value=</span><span class="s">&#34;3&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;PARENT_SETTINGS_INSTALLED&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;PROTO&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;RIGHT_MARGIN&#34;</span> <span class="na">value=</span><span class="s">&#34;80&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;protobuf&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;RIGHT_MARGIN&#34;</span> <span class="na">value=</span><span class="s">&#34;80&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;Python&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_BLANK_LINES_IN_CODE&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;RIGHT_MARGIN&#34;</span> <span class="na">value=</span><span class="s">&#34;80&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_PARAMETERS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;PARENT_SETTINGS_INSTALLED&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;SASS&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;SCSS&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;TypeScript&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;XML&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TAB_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
    <span class="nt">&lt;arrangement&gt;</span>
      <span class="nt">&lt;rules&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>xmlns:android<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>^$<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>xmlns:.*<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>^$<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
            <span class="nt">&lt;order&gt;</span>BY_NAME<span class="nt">&lt;/order&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:id<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>style<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>^$<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>^$<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
            <span class="nt">&lt;order&gt;</span>BY_NAME<span class="nt">&lt;/order&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:.*Style<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
            <span class="nt">&lt;order&gt;</span>BY_NAME<span class="nt">&lt;/order&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_width<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_height<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_weight<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_margin<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_marginTop<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_marginBottom<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_marginStart<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_marginEnd<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_marginLeft<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_marginRight<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:layout_.*<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
            <span class="nt">&lt;order&gt;</span>BY_NAME<span class="nt">&lt;/order&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:padding<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:paddingTop<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:paddingBottom<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:paddingStart<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:paddingEnd<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:paddingLeft<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*:paddingRight<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_ATTRIBUTE</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res/android<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
            <span class="nt">&lt;order&gt;</span>BY_NAME<span class="nt">&lt;/order&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/apk/res-auto<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
            <span class="nt">&lt;order&gt;</span>BY_NAME<span class="nt">&lt;/order&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>http://schemas.android.com/tools<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
            <span class="nt">&lt;order&gt;</span>BY_NAME<span class="nt">&lt;/order&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
        <span class="nt">&lt;section&gt;</span>
          <span class="nt">&lt;rule&gt;</span>
            <span class="nt">&lt;match&gt;</span>
              <span class="nt">&lt;AND&gt;</span>
                <span class="nt">&lt;NAME&gt;</span>.*<span class="nt">&lt;/NAME&gt;</span>
                <span class="nt">&lt;XML_NAMESPACE&gt;</span>.*<span class="nt">&lt;/XML_NAMESPACE&gt;</span>
              <span class="nt">&lt;/AND&gt;</span>
            <span class="nt">&lt;/match&gt;</span>
            <span class="nt">&lt;order&gt;</span>BY_NAME<span class="nt">&lt;/order&gt;</span>
          <span class="nt">&lt;/rule&gt;</span>
        <span class="nt">&lt;/section&gt;</span>
      <span class="nt">&lt;/rules&gt;</span>
    <span class="nt">&lt;/arrangement&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
  <span class="nt">&lt;Objective-C&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_NAMESPACE_MEMBERS&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_C_STRUCT_MEMBERS&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_CLASS_MEMBERS&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_VISIBILITY_KEYWORDS&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_INSIDE_CODE_BLOCK&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_STRUCTURES_IN_ONE_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FUNCTION_PARAMETERS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;5&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FUNCTION_CALL_ARGUMENTS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;5&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TEMPLATE_CALL_ARGUMENTS_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;5&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TEMPLATE_CALL_ARGUMENTS_ALIGN_MULTILINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_INIT_LIST_IN_COLUMNS&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;SPACE_BEFORE_SUPERCLASS_COLON&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/Objective-C&gt;</span>
  <span class="nt">&lt;Objective-C-extensions&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES&#34;</span> <span class="na">value=</span><span class="s">&#34;ASK&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;RELEASE_STYLE&#34;</span> <span class="na">value=</span><span class="s">&#34;IVAR&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;TYPE_QUALIFIERS_PLACEMENT&#34;</span> <span class="na">value=</span><span class="s">&#34;BEFORE&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;file&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Import&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Macro&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Typedef&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Enum&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Constant&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Global&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Struct&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;FunctionPredecl&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Function&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/file&gt;</span>
    <span class="nt">&lt;class&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Property&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;Synthesize&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;InitMethod&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;StaticMethod&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;InstanceMethod&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;com.jetbrains.cidr.lang.util.OCDeclarationKind&#34;</span> <span class="na">value=</span><span class="s">&#34;DeallocMethod&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/class&gt;</span>
    <span class="nt">&lt;extensions&gt;</span>
      <span class="nt">&lt;pair</span> <span class="na">source=</span><span class="s">&#34;cc&#34;</span> <span class="na">header=</span><span class="s">&#34;h&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;pair</span> <span class="na">source=</span><span class="s">&#34;c&#34;</span> <span class="na">header=</span><span class="s">&#34;h&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/extensions&gt;</span>
  <span class="nt">&lt;/Objective-C-extensions&gt;</span>
  <span class="nt">&lt;codeStyleSettings</span> <span class="na">language=</span><span class="s">&#34;ObjectiveC&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;RIGHT_MARGIN&#34;</span> <span class="na">value=</span><span class="s">&#34;80&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;KEEP_BLANK_LINES_BEFORE_RBRACE&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BLANK_LINES_BEFORE_IMPORTS&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BLANK_LINES_AFTER_IMPORTS&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BLANK_LINES_AROUND_CLASS&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BLANK_LINES_AROUND_METHOD&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BLANK_LINES_AROUND_METHOD_IN_INTERFACE&#34;</span> <span class="na">value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ALIGN_MULTILINE_BINARY_OPERATION&#34;</span> <span class="na">value=</span><span class="s">&#34;false&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;BINARY_OPERATION_SIGN_ON_NEXT_LINE&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;FOR_STATEMENT_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;ASSIGNMENT_WRAP&#34;</span> <span class="na">value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;indentOptions&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&#34;CONTINUATION_INDENT_SIZE&#34;</span> <span class="na">value=</span><span class="s">&#34;4&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/indentOptions&gt;</span>
  <span class="nt">&lt;/codeStyleSettings&gt;</span>
<span class="nt">&lt;/code_scheme&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>To import this, save the above file somewhere, and in the IDE go to settings -&gt; Code Style -&gt; Java -&gt; Click on gear icon -&gt; Import scheme -&gt; Intellij idea code style XML, and select the file.</p>

<p>Next we'll need to set some environment variables for the different config setups.</p>

<p>I created an 'Application' config, which I use to run the app from within IntelliJ, and a 'JAR Application`. Both use the environment variables:</p>

<pre><code>DATABASE_HOST=localhost
DATABASE_PORT=3306
DATABASE_USER=mark
DATABASE_PASSWORD=topsecret
DATABASE_NAME=sample
GOOGLE_OAUTH2_CLIENT_ID=shhh.apps.googleusercontent.com
GOOGLE_OAUTH2_CLIENT_SECRET=secret
</code></pre>

<p>The Path to JAR in the Jar application for me is <code>C:\Users\mark\IdeaProjects\SampleProject\target\service.jar</code></p>

<p>Once that's done, everything should work pretty much out of the box. You can run the various maven commands</p>

<p>If you run the application from within IntelliJ, you'll be able to hit the API endpoints as well as the Swagger UI (<a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a>). Trying to hit the site root (/) won't work, as the front-end code doesn't live inside the java codebase.</p>

<p>When running the <code>package</code> maven command, there's an extra goodie. It will automatically produce a production build of the React app and place it in the correct location to be packaged up in the fat JAR.</p>

<p>So if you want do a complete test run, you can run the maven package command, then run the jar from the IDE, and the entire app including front-end should be available on <a href="http://localhost:8080">http://localhost:8080</a>.</p>

<h2 id="vs-code">VS Code&nbsp;<a class="anchor" href="#vs-code"><i class="small linkify icon"></i></a> </h2>

<p>I've installed NodeJS on Windows 10, and it seems to work well with this setup. I've also used WSL (Windows Subsystem for Linux), however WSL is very very sluggish and I don't really recommend it for front-end development. A similar setup with MacOS/brew should also be trivial to setup.</p>

<p>The front-end workflow works out of the box with VS Code in this setup. You can launch the NPM scripts from within the IDE and hit the localhost endpoint (<a href="http://localhost:3000">http://localhost:3000</a>) to see your app live-reload while you're coding. Assuming you're running the back-end, the entire app should work.</p>

<p>As I've enabled CSRF on the backend, you'll need to login to the backend before you try to hit the front-end code (in order to have the cookie for the CSRF token). To do so, you can simply visit any of the api endpoints or the swagger UI (eg: <a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a>). Once the google auth is done, you can head on over to <a href="http://localhost:3000">http://localhost:3000</a> to hit the app running from nodejs.</p>

<h1 id="database-1">Database&nbsp;<a class="anchor" href="#database-1"><i class="small linkify icon"></i></a> </h1>

<p>I've dumped the database table structure and some test data in the <code>src\test\fixtures\data.sql</code> file.</p>

<h1 id="static-code-analysis">Static code analysis&nbsp;<a class="anchor" href="#static-code-analysis"><i class="small linkify icon"></i></a> </h1>

<p>As mentioned in the intro, I've codified some tooling in this setup to enforce styling as well as analyze the code for anti-patterns, programming errors, copy paste detection, unit test code coverage, and dependency vulnerabilities.</p>

<p>I've only covered the back-end portion so far, I'll see if I can modify the pipeline to do the same withe front-end build.</p>

<h2 id="unit-tests">Unit tests&nbsp;<a class="anchor" href="#unit-tests"><i class="small linkify icon"></i></a> </h2>

<pre><code>mvn test
</code></pre>

<h2 id="unit-test-code-coverage">Unit test code coverage&nbsp;<a class="anchor" href="#unit-test-code-coverage"><i class="small linkify icon"></i></a> </h2>

<pre><code>mvn jacoco:check
</code></pre>

<p>You can then open the report in your browser in the <code>target\site\jacoco\index.html</code>, should look something like this:</p>

<p><img src="/images/coverage-1.jpg" alt="null" /></p>

<p>You can click through the links to view the covered/uncovered part of each file:</p>

<p><img src="/images/coverage-2.jpg" alt="null" /></p>

<h2 id="owasp-dependancy-vulnerability-check">OWASP dependancy vulnerability check&nbsp;<a class="anchor" href="#owasp-dependancy-vulnerability-check"><i class="small linkify icon"></i></a> </h2>

<pre><code>mvn dependency-check:aggregate
</code></pre>

<h2 id="coding-style">Coding style&nbsp;<a class="anchor" href="#coding-style"><i class="small linkify icon"></i></a> </h2>

<pre><code>mvn checkstyle:check
</code></pre>

<h2 id="project-mess-detection-copy-paste-detection">Project mess detection &amp; copy paste detection&nbsp;<a class="anchor" href="#project-mess-detection-copy-paste-detection"><i class="small linkify icon"></i></a> </h2>

<pre><code>mvn pmd:check
</code></pre>

<h2 id="spotbugs">Spotbugs&nbsp;<a class="anchor" href="#spotbugs"><i class="small linkify icon"></i></a> </h2>

<pre><code>mvn spotbugs:check
</code></pre>

<h1 id="devops">DevOps&nbsp;<a class="anchor" href="#devops"><i class="small linkify icon"></i></a> </h1>

<p>This application follows all the best practices of the 12-factor app. The output of the build process (<code>mvn package</code>) produces a self-contained jar file (<code>target/service.jar</code>) that can easily be thrown into a docker container with a JRE.</p>

<p>All configuration of the application is done via the environment variables.</p>

<p>Alerting can consume the Spring actuator endpoints to retrieve metrics from the runtime and should provide a good level of visibility into the health of the application.</p>

<h1 id="todo">TODO&nbsp;<a class="anchor" href="#todo"><i class="small linkify icon"></i></a> </h1>

<ul>
<li>I'd eventually like to get Spring Boot admin working (client/server)<br /></li>
<li>Some unit tests. As a general rule I don't like writing lots of unit tests that just end up testing against mocks when there is no business logic in the code. As there are only 2 IF statements in the back-end, I didn't feel like it was worth it. I might just add some arbitrary complexity and up the coverage ratio to prove the point.<br /></li>
</ul>

				</article>				
			</section>

			
			<section class="ui secondary attached segment dream-tags">
				
					<span>No tag</span>
				
			</section>

			
			
				<section class="ui secondary bottom attached segment share row box">
					








<div class="author">
	
	<img class="avatar" src="/images/mark.jpg">
	
</div>
<div class="info grow flexbox">
	<a href="https://twitter.com/markrsteele">
	<p class="name">Mark Steele</p>
	</a>
	<p class="desc">Cogito Interruptus Vulgaris</p>
</div>


<section class="buttons row box">
	<div class="facebook none flexbox" href="#" onclick="window.open(
			'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
			'facebook-share-dialog',
			'width=626,height=436'); return false;">
		<button class="ui facebook button"><i class="facebook icon"></i>Share</button>
	</div>
	<div class="twitter none flexbox" onclick="window.open('https://twitter.com/intent/tweet?text=Read &quot;Spring Boot\/React - FullStack Project Template\/Tutorial &quot; by @markrsteele https:\/\/www.control-alt-del.org\/posts\/spring-boot-react-fullstack-project-template-tutorial\/','_self')">
		<button class="ui twitter button"><i class="twitter icon"></i>Tweet</button>
	</div>
</section>

				</section>
			

			
			
			

			
			
		</div>
	</div>

				</div>
				<div class="back">
					
<nav class="ui top secondary menu bar">
	<div class="item">
		<i class="inverted big link bullseye icon dream-flip-toggle" title="About Me"></i>
	</div>
	
		
	
		
	
		
	

	
	
	
	
	
	
	
		
		
			<div class="item">
				<a href="https://github.com/marksteele" target="	_blank">
					<i id="ico" class="inverted big link github icon" title="GitHub"></i>
				</a>
			</div>
		
	
		
		
			<div class="item">
				<a href="mailto:mark@control-alt-del.org" target="	_blank">
					<i id="ico" class="inverted big link mail icon" title="Email"></i>
				</a>
			</div>
		
	
		
		
			<div class="item">
				<a href="https://twitter.com/markrsteele" target="	_blank">
					<i id="ico" class="inverted big link twitter icon" title="Twitter"></i>
				</a>
			</div>
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
		
		
	
</nav>



<div class="ui centered grid about">
	<div class="sixteen wide mobile fifteen wide tablet fifteen wide computer column about">
		<section class="ui stacked segments">
			<div class="ui inverted segment">
				<article class="twemoji">
					Father, Husband, Mentor, Crime Fighter, Inventor and Slayer of Chipmunks.
				</article>
			</div>
		</section>
	</div>
</div>

				</div>
			</div>
		</div>
		
	
	

		
<script src="/js/site.js"></script>






	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.4.0/jquery.fancybox.min.js"></script>
	


		


		


	</body>
</html>
